<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/namespaceparallel_1_1internal.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: parallel::internal Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceparallel.html">parallel</a></li><li class="navelem"><a class="el" href="namespaceparallel_1_1internal.html">internal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">parallel::internal Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structparallel_1_1internal_1_1Body.html">Body</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structparallel_1_1internal_1_1EnableOpenMPSimdFor.html">EnableOpenMPSimdFor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structparallel_1_1internal_1_1ParallelForWrapper.html">ParallelForWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structparallel_1_1internal_1_1ReductionOnSubranges.html">ReductionOnSubranges</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1internal_1_1TBBPartitioner.html">TBBPartitioner</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8a1c8812268e6b0576e031174326daa5"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a8a1c8812268e6b0576e031174326daa5"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structparallel_1_1internal_1_1Body.html">Body</a>&lt; F &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceparallel_1_1internal.html#a8a1c8812268e6b0576e031174326daa5">make_body</a> (const F &amp;f)</td></tr>
<tr class="separator:a8a1c8812268e6b0576e031174326daa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b19ea24332541752fdbd6880b641b25"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename Functor &gt; </td></tr>
<tr class="memitem:a0b19ea24332541752fdbd6880b641b25"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceparallel_1_1internal.html#a0b19ea24332541752fdbd6880b641b25">parallel_for</a> (Iterator x_begin, Iterator x_end, const Functor &amp;functor, const unsigned <a class="el" href="classint.html">int</a> grainsize)</td></tr>
<tr class="separator:a0b19ea24332541752fdbd6880b641b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163b2d6c280a6ea8b721a819fbb1520b"><td class="memTemplParams" colspan="2">template&lt;typename Iterator , typename Functor &gt; </td></tr>
<tr class="memitem:a163b2d6c280a6ea8b721a819fbb1520b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceparallel_1_1internal.html#a163b2d6c280a6ea8b721a819fbb1520b">parallel_for</a> (Iterator x_begin, Iterator x_end, const Functor &amp;functor, const unsigned <a class="el" href="classint.html">int</a> grainsize, const std::shared_ptr&lt; tbb::affinity_partitioner &gt; &amp;partitioner)</td></tr>
<tr class="separator:a163b2d6c280a6ea8b721a819fbb1520b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467548315bbcf01df854de6013c25866"><td class="memTemplParams" colspan="2">template&lt;typename RangeType , typename Function &gt; </td></tr>
<tr class="memitem:a467548315bbcf01df854de6013c25866"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceparallel_1_1internal.html#a467548315bbcf01df854de6013c25866">apply_to_subranges</a> (const tbb::blocked_range&lt; RangeType &gt; &amp;range, const <a class="el" href="classFunction.html">Function</a> &amp;f)</td></tr>
<tr class="separator:a467548315bbcf01df854de6013c25866"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that wraps a TBB affinity partitioner in a thread-safe way. In <a class="el" href="classVector.html">Vector</a>, we use a shared pointer to share an affinity partitioner between different vectors of the same size for improving data (and NUMA) locality. However, when an outer task does multiple vector operations, the shared pointer could lead to race conditions. This class only allows one instance to get a partitioner. The other objects cannot use that object and need to create their own copy. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8a1c8812268e6b0576e031174326daa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1c8812268e6b0576e031174326daa5">&#9670;&nbsp;</a></span>make_body()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structparallel_1_1internal_1_1Body.html">Body</a>&lt;F&gt; parallel::internal::make_body </td>
          <td>(</td>
          <td class="paramtype">const F &amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Take a function object and create a <a class="el" href="structparallel_1_1internal_1_1Body.html">Body</a> object from it. We do this in this helper function since alternatively we would have to specify the actual data type of F &ndash; which for function objects is often extraordinarily complicated. </p>

<p class="definition">Definition at line <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html#l00145">145</a> of file <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html">parallel.h</a>.</p>

</div>
</div>
<a id="a0b19ea24332541752fdbd6880b641b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b19ea24332541752fdbd6880b641b25">&#9670;&nbsp;</a></span>parallel_for() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename Functor &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void parallel::internal::parallel_for </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>x_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>grainsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encapsulate tbb::parallel_for. </p>

<p class="definition">Definition at line <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html#l00158">158</a> of file <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html">parallel.h</a>.</p>

</div>
</div>
<a id="a163b2d6c280a6ea8b721a819fbb1520b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163b2d6c280a6ea8b721a819fbb1520b">&#9670;&nbsp;</a></span>parallel_for() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterator , typename Functor &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void parallel::internal::parallel_for </td>
          <td>(</td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>x_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterator&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Functor &amp;&#160;</td>
          <td class="paramname"><em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>grainsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; tbb::affinity_partitioner &gt; &amp;&#160;</td>
          <td class="paramname"><em>partitioner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encapsulate tbb::parallel_for when an affinite_partitioner is provided. </p>

<p class="definition">Definition at line <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html#l00175">175</a> of file <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html">parallel.h</a>.</p>

</div>
</div>
<a id="a467548315bbcf01df854de6013c25866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467548315bbcf01df854de6013c25866">&#9670;&nbsp;</a></span>apply_to_subranges()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RangeType , typename Function &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void parallel::internal::apply_to_subranges </td>
          <td>(</td>
          <td class="paramtype">const tbb::blocked_range&lt; RangeType &gt; &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classFunction.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Take a range argument and call the given function with its begin and end. </p>

<p class="definition">Definition at line <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html#l00367">367</a> of file <a class="el" href="include_2deal_8II_2base_2parallel_8h_source.html">parallel.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
