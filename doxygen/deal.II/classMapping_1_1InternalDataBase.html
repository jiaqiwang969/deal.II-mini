<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classMapping_1_1InternalDataBase.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: Mapping&lt; dim, spacedim &gt;::InternalDataBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classMapping.html">Mapping</a></li><li class="navelem"><a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classMapping_1_1InternalDataBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Mapping&lt; dim, spacedim &gt;::InternalDataBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mapping_8h_source.html">deal.II/fe/mapping.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Mapping&lt; dim, spacedim &gt;::InternalDataBase:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMapping_1_1InternalDataBase__inherit__graph.svg" width="412" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acefbd21af8fc1074dc65922db9a7bad6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapping_1_1InternalDataBase.html#acefbd21af8fc1074dc65922db9a7bad6">InternalDataBase</a> ()</td></tr>
<tr class="separator:acefbd21af8fc1074dc65922db9a7bad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4accbdc665fa79f54c5459374eab4426"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapping_1_1InternalDataBase.html#a4accbdc665fa79f54c5459374eab4426">InternalDataBase</a> (const <a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a> &amp;)=delete</td></tr>
<tr class="separator:a4accbdc665fa79f54c5459374eab4426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef85da926f674d14e0acda39fa1af35"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapping_1_1InternalDataBase.html#a9ef85da926f674d14e0acda39fa1af35">~InternalDataBase</a> ()=default</td></tr>
<tr class="separator:a9ef85da926f674d14e0acda39fa1af35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b920cdcb2c10bc4d1df0515c20d7c8"><td class="memItemLeft" align="right" valign="top">virtual std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapping_1_1InternalDataBase.html#ab7b920cdcb2c10bc4d1df0515c20d7c8">memory_consumption</a> () const</td></tr>
<tr class="separator:ab7b920cdcb2c10bc4d1df0515c20d7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a43f4579d65a86db27d208ebf42ad3f44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__feaccess.html#gaa94b67d2fdcc390690c523f28019e52f">UpdateFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapping_1_1InternalDataBase.html#a43f4579d65a86db27d208ebf42ad3f44">update_each</a></td></tr>
<tr class="separator:a43f4579d65a86db27d208ebf42ad3f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int dim, int spacedim = dim&gt;<br />
class Mapping&lt; dim, spacedim &gt;::InternalDataBase</h3>

<p>Base class for internal data of mapping objects. The internal mechanism is that upon construction of a <a class="el" href="classFEValues.html">FEValues</a> object, it asks the mapping and finite element classes that are to be used to allocate memory for their own purpose in which they may store data that only needs to be computed once. For example, most finite elements will store the values of the shape functions at the quadrature points in this object, since they do not change from cell to cell and only need to be computed once. The same may be true for <a class="el" href="classMapping.html" title="Abstract base class for mapping classes. ">Mapping</a> classes that want to only evaluate the shape functions used for mapping once at the quadrature points.</p>
<p>Since different <a class="el" href="classFEValues.html">FEValues</a> objects using different quadrature rules might access the same mapping object at the same time, it is necessary to create one such object per <a class="el" href="classFEValues.html">FEValues</a> object. <a class="el" href="classFEValues.html">FEValues</a> does this by calling <a class="el" href="classMapping.html#a2fdce92a1ba733f9652de666d3475a34">Mapping::get_data()</a>, or in reality the implementation of the corresponding function in derived classes. Ownership of the object created by <a class="el" href="classMapping.html#a2fdce92a1ba733f9652de666d3475a34">Mapping::get_data()</a> is then transferred to the <a class="el" href="classFEValues.html">FEValues</a> object, but a reference to this object is passed to the mapping object every time it is asked to compute information on a concrete cell. This happens when <a class="el" href="classFEValues.html#a21f914e63d588e2652a9514620653d77">FEValues::reinit()</a> (or the corresponding classes in <a class="el" href="classFEFaceValues.html">FEFaceValues</a> and <a class="el" href="classFESubfaceValues.html">FESubfaceValues</a>) call <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> (and similarly via <a class="el" href="classMapping.html#a9baf527d46a7f2391dbb3dd5dc416864">Mapping::fill_fe_face_values()</a> and <a class="el" href="classMapping.html#a9f7f6025bc3f10e8f7da2c8a68eaff4a">Mapping::fill_fe_subface_values()</a>).</p>
<p>The purpose of this class is for mapping objects to store information that can be computed once at the beginning, on the reference cell, and to access it later when computing information on a concrete cell. As such, the object handed to <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> is marked as <code>const</code>, because the assumption is that at the time this information is used, it will not need to modified again. However, classes derived from <a class="el" href="classMapping.html" title="Abstract base class for mapping classes. ">Mapping</a> can also use such objects for two other purposes:</p>
<ul>
<li>To provide scratch space for computations that are done in <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> and similar functions. Some of the derived classes would like to use scratch arrays and it would be a waste of time to allocate these arrays every time this function is called, just to de- allocate it again at the end of the function. Rather, one could allocate this memory once as a member variable of the current class, and simply use it in <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a>.</li>
<li>After calling <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a>, <a class="el" href="classFEValues.html#a21f914e63d588e2652a9514620653d77">FEValues::reinit()</a> calls <a class="el" href="classFiniteElement.html#a76218870e645f59e07c7ab650cf31a79">FiniteElement::fill_fe_values()</a> where the finite element computes values, gradients, etc of the shape functions using both information computed once at the beginning using a mechanism similar to the one described here (see <a class="el" href="classFiniteElement_1_1InternalDataBase.html">FiniteElement::InternalDataBase</a>) as well as the data already computed by <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a>. As part of its work, some implementations of <a class="el" href="classFiniteElement.html#a76218870e645f59e07c7ab650cf31a79">FiniteElement::fill_fe_values()</a> need to transform shape function data, and they do so by calling <a class="el" href="classMapping.html#a74e30e87fe9ab3716231384db8053c19">Mapping::transform()</a>. The call to the latter function also receives a reference to the <a class="el" href="classMapping_1_1InternalDataBase.html">Mapping::InternalDataBase</a> object. Since <a class="el" href="classMapping.html#a74e30e87fe9ab3716231384db8053c19">Mapping::transform()</a> may be called many times on each cell, it is sometimes worth for derived classes to compute some information only once in <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> and reuse it in <a class="el" href="classMapping.html#a74e30e87fe9ab3716231384db8053c19">Mapping::transform()</a>. This information can also be stored in the classes that derived mapping classes derive from <a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a>.</li>
</ul>
<p>In both of these cases, the <a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a> object being passed around is "morally const", i.e., no external observer can tell whether a scratch array or some intermediate data for <a class="el" href="classMapping.html#a74e30e87fe9ab3716231384db8053c19">Mapping::transform()</a> is being modified by <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> or not. Consequently, the <a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a> objects are always passed around as <code>const</code> objects. Derived classes that would like to make use of the two additional uses outlined above therefore need to mark the member variables they want to use for these purposes as <code>mutable</code> to allow for their modification despite the fact that the surrounding object is marked as <code>const</code>. </p>

<p class="definition">Definition at line <a class="el" href="mapping_8h_source.html#l00619">619</a> of file <a class="el" href="mapping_8h_source.html">mapping.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acefbd21af8fc1074dc65922db9a7bad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acefbd21af8fc1074dc65922db9a7bad6">&#9670;&nbsp;</a></span>InternalDataBase() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt;::InternalDataBase::InternalDataBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. Sets update_flags to <code>update_default</code> and <code>first_cell</code> to <code>true</code>. </p>

</div>
</div>
<a id="a4accbdc665fa79f54c5459374eab4426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4accbdc665fa79f54c5459374eab4426">&#9670;&nbsp;</a></span>InternalDataBase() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt;::InternalDataBase::InternalDataBase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMapping_1_1InternalDataBase.html">InternalDataBase</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy construction is forbidden. </p>

</div>
</div>
<a id="a9ef85da926f674d14e0acda39fa1af35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef85da926f674d14e0acda39fa1af35">&#9670;&nbsp;</a></span>~InternalDataBase()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt;::InternalDataBase::~InternalDataBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Virtual destructor for derived classes </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab7b920cdcb2c10bc4d1df0515c20d7c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7b920cdcb2c10bc4d1df0515c20d7c8">&#9670;&nbsp;</a></span>memory_consumption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::size_t <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt;::InternalDataBase::memory_consumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return an estimate (in bytes) for the memory consumption of this object. </p>

<p>Reimplemented in <a class="el" href="classMappingFEField_3_01dim_00_01spacedim_00_01VectorType_00_01void_01_4_1_1InternalData.html#a38b6b182f886ab904de92ff669420659">MappingFEField&lt; dim, spacedim, VectorType, void &gt;::InternalData</a>, <a class="el" href="classMappingQGeneric_1_1InternalData.html#a11699055bd957e5171a0f08c63e71fb4">MappingQGeneric&lt; dim, spacedim &gt;::InternalData</a>, <a class="el" href="classMappingFE_1_1InternalData.html#a59c641f98e8b2a178b462a1207b1fe68">MappingFE&lt; dim, spacedim &gt;::InternalData</a>, <a class="el" href="classMappingQ_1_1InternalData.html#a79e9cb46a81aca392fe556cd3a0f4cbe">MappingQ&lt; dim, spacedim &gt;::InternalData</a>, <a class="el" href="classMappingManifold_1_1InternalData.html#a57d97bc3e85a4befce1e2e8d095bb6b6">MappingManifold&lt; dim, spacedim &gt;::InternalData</a>, and <a class="el" href="classMappingCartesian_1_1InternalData.html#a5f773f9b05fce54b9d0d6de0cb032293">MappingCartesian&lt; dim, spacedim &gt;::InternalData</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a43f4579d65a86db27d208ebf42ad3f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f4579d65a86db27d208ebf42ad3f44">&#9670;&nbsp;</a></span>update_each</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__feaccess.html#gaa94b67d2fdcc390690c523f28019e52f">UpdateFlags</a> <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt;::InternalDataBase::update_each</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A set of update flags specifying the kind of information that an implementation of the <a class="el" href="classMapping.html" title="Abstract base class for mapping classes. ">Mapping</a> interface needs to compute on each cell or face, i.e., in <a class="el" href="classMapping.html#ac69cb4dd66dd3745b483f4703cb1fb69">Mapping::fill_fe_values()</a> and friends.</p>
<p>This set of flags is stored here by implementations of <a class="el" href="classMapping.html#a2fdce92a1ba733f9652de666d3475a34">Mapping::get_data()</a>, <a class="el" href="classMapping.html#af3955d81e5bb00f69c566e0890fddeb6">Mapping::get_face_data()</a>, or <a class="el" href="classMapping.html#aa101c7827bf40a80b9adac393d830af1">Mapping::get_subface_data()</a>, and is that subset of the update flags passed to those functions that require re-computation on every cell. (The subset of the flags corresponding to information that can be computed once and for all already at the time of the call to <a class="el" href="classMapping.html#a2fdce92a1ba733f9652de666d3475a34">Mapping::get_data()</a> &ndash; or an implementation of that interface &ndash; need not be stored here because it has already been taken care of.) </p>

<p class="definition">Definition at line <a class="el" href="mapping_8h_source.html#l00652">652</a> of file <a class="el" href="mapping_8h_source.html">mapping.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/deal.II/fe/<a class="el" href="mapping_8h_source.html">mapping.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
