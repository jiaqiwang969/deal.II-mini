<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/namespaceParticles_1_1Generators.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: Particles::Generators Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceParticles.html">Particles</a></li><li class="navelem"><a class="el" href="namespaceParticles_1_1Generators.html">Generators</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Particles::Generators Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2684a4c28278c3def771feb452c16a47"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a2684a4c28278c3def771feb452c16a47"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a2684a4c28278c3def771feb452c16a47">regular_reference_locations</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;triangulation, const std::vector&lt; <a class="el" href="classPoint.html">Point</a>&lt; dim &gt;&gt; &amp;particle_reference_locations, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()))</td></tr>
<tr class="separator:a2684a4c28278c3def771feb452c16a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84547cbd4fa7f9b6afeaeef3504443a"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:aa84547cbd4fa7f9b6afeaeef3504443a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classParticles_1_1Particle.html">Particle</a>&lt; dim, spacedim &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#aa84547cbd4fa7f9b6afeaeef3504443a">random_particle_in_cell</a> (const typename <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::active_cell_iterator &amp;cell, const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a> id, std::mt19937 &amp;random_number_generator, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()))</td></tr>
<tr class="separator:aa84547cbd4fa7f9b6afeaeef3504443a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc34529399792726fea6706d3b2e533"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a0dc34529399792726fea6706d3b2e533"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a0dc34529399792726fea6706d3b2e533">probabilistic_locations</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;triangulation, const <a class="el" href="classFunction.html">Function</a>&lt; spacedim &gt; &amp;probability_density_function, const <a class="el" href="classbool.html">bool</a> random_cell_selection, const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a> n_particles_to_create, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const unsigned <a class="el" href="classint.html">int</a> random_number_seed=5432)</td></tr>
<tr class="separator:a0dc34529399792726fea6706d3b2e533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498c6b70c8c3169a3d1513418beb9e15"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a498c6b70c8c3169a3d1513418beb9e15"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a498c6b70c8c3169a3d1513418beb9e15">dof_support_points</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;global_bounding_boxes, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const <a class="el" href="classComponentMask.html">ComponentMask</a> &amp;components=<a class="el" href="classComponentMask.html">ComponentMask</a>(), const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;properties={})</td></tr>
<tr class="separator:a498c6b70c8c3169a3d1513418beb9e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#aa1cd861e3aaf1770ddcddd956cdae5e4">quadrature_points</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;triangulation, const <a class="el" href="classQuadrature.html">Quadrature</a>&lt; dim &gt; &amp;quadrature, const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;global_bounding_boxes, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;properties={})</td></tr>
<tr class="separator:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A namespace that contains all classes that are related to the particle generation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2684a4c28278c3def771feb452c16a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2684a4c28278c3def771feb452c16a47">&#9670;&nbsp;</a></span>regular_reference_locations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::regular_reference_locations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classPoint.html">Point</a>&lt; dim &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_reference_locations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;&#160;dim&#160;&gt;()&#160;.template&#160;<a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;&#160;dim,&#160;spacedim&#160;&gt;())</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that generates particles in every cell at specified <code>particle_reference_locations</code>. The total number of particles that is added to the <code>particle_handler</code> object is the number of locally owned cells of the <code>triangulation</code> times the number of locations in <code>particle_reference_locations</code>. An optional <code>mapping</code> argument can be used to map from <code>particle_reference_locations</code> to the real particle locations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">triangulation</td><td>The triangulation associated with the <code>particle_handler</code>.</td></tr>
    <tr><td class="paramname">particle_reference_locations</td><td>A vector of positions in the unit cell. <a class="el" href="namespaceParticles.html">Particles</a> will be generated in every cell at these locations.</td></tr>
    <tr><td class="paramname">particle_handler</td><td>The particle handler that will take ownership of the generated particles.</td></tr>
    <tr><td class="paramname">mapping</td><td>An optional mapping object that is used to map reference location in the unit cell to the real cells of the triangulation. If no mapping is provided a <a class="el" href="classMappingQ1.html">MappingQ1</a> is assumed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa84547cbd4fa7f9b6afeaeef3504443a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84547cbd4fa7f9b6afeaeef3504443a">&#9670;&nbsp;</a></span>random_particle_in_cell()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classParticles_1_1Particle.html">Particle</a>&lt;dim, spacedim&gt; Particles::Generators::random_particle_in_cell </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::active_cell_iterator &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::mt19937 &amp;&#160;</td>
          <td class="paramname"><em>random_number_generator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;&#160;dim&#160;&gt;()&#160;.template&#160;<a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;&#160;dim,&#160;spacedim&#160;&gt;())</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that generates one particle at a random location in cell <code>cell</code> and with index <code>id</code>. The function expects a random number generator to avoid the expensive generation and destruction of a generator for every particle and optionally takes into account a mapping for the cell. The algorithm implemented in the function is described in <b>[GLHPW2018]</b>. In short, the algorithm generates random locations within the bounding box of the <code>cell</code>. It then inverts the mapping to check if the generated particle is within the cell itself. This makes sure the algorithm produces statistically random locations even for nonlinear mappings and distorted cells. However, if the ratio between bounding box and cell volume becomes very large &ndash; i.e. the cells become strongly deformed, for example a pencil shaped cell that lies diagonally in the domain &ndash; then the algorithm can become very inefficient. Therefore, it only tries to find a location ni the cell a fixed number of times before throwing an error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cell</td><td>The cell in which a particle is generated.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The particle index that will be assigned to the new particle.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">random_number_generator</td><td>A random number generator that will be used for the creation of th particle.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>An optional mapping object that is used to map reference location in the unit cell to the real cell. If no mapping is provided a <a class="el" href="classMappingQ1.html">MappingQ1</a> is assumed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0dc34529399792726fea6706d3b2e533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc34529399792726fea6706d3b2e533">&#9670;&nbsp;</a></span>probabilistic_locations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::probabilistic_locations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classFunction.html">Function</a>&lt; spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>probability_density_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>random_cell_selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a>&#160;</td>
          <td class="paramname"><em>n_particles_to_create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;&#160;dim&#160;&gt;()&#160;.template&#160;<a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;&#160;dim,&#160;spacedim&#160;&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>random_number_seed</em> = <code>5432</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that generates particles randomly in the domain with a particle density according to a provided probability density function <code>probability_density_function</code>. The total number of particles that is added to the <code>particle_handler</code> object is <code>n_particles_to_create</code>. An optional <code>mapping</code> argument can be used to map from <code>particle_reference_locations</code> to the real particle locations. The function can compute the number of particles per cell either deterministically by computing the integral of the probability density function for each cell and creating particles accordingly (if option <code>random_cell_selection</code> set to false), or it can select cells randomly based on the probability density function and the cell size (if option <code>random_cell_selection</code> set to true). In either case the position of individual particles inside the cell is computed randomly.</p>
<p>The algorithm implemented in the function is described in <b>[GLHPW2018]</b>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">triangulation</td><td>The triangulation associated with the <code>particle_handler</code>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">probability_density_function</td><td>A function with non-negative values that determines the probability density of a particle to be generated in this location. The function does not need to be normalized.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">random_cell_selection</td><td>A bool that determines, how the number of particles per cell is computed (see the description above).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_particles_to_create</td><td>The number of particles that will be created by this function.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler</td><td>The particle handler that will take ownership of the generated particles.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>An optional mapping object that is used to map reference location in the unit cell to the real cells of the triangulation. If no mapping is provided a <a class="el" href="classMappingQ1.html">MappingQ1</a> is assumed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">random_number_seed</td><td>An optional seed that determines the initial state of the random number generator. Use the same number to get a reproducible particle distribution, or a changing number (e.g. based on system time) to generate different particle distributions for each call to this function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a498c6b70c8c3169a3d1513418beb9e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a498c6b70c8c3169a3d1513418beb9e15">&#9670;&nbsp;</a></span>dof_support_points()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::dof_support_points </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>global_bounding_boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;&#160;dim&#160;&gt;()&#160;.template&#160;<a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;&#160;dim,&#160;spacedim&#160;&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classComponentMask.html">ComponentMask</a> &amp;&#160;</td>
          <td class="paramname"><em>components</em> = <code><a class="el" href="classComponentMask.html">ComponentMask</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>properties</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that generates particles at the locations of the support points of a <a class="el" href="classDoFHandler.html">DoFHandler</a>, possibly based on a different <a class="el" href="classTriangulation.html">Triangulation</a> with respect to the one used to construct the <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>. The total number of particles that is added to the <code>particle_handler</code> object is the number of dofs of the <a class="el" href="classDoFHandler.html">DoFHandler</a> that is passed that are within the triangulation and whose components are within the <a class="el" href="classComponentMask.html">ComponentMask</a>. This function uses insert_global_particles and consequently may induce considerable mpi communication overhead.</p>
<p>This function is used in step-70.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dof_handler</td><td>A DOF handler that may live on another triangulation that is used to establsh the positions of the particles.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">global_bounding_boxes</td><td>A vector that contains all the bounding boxes for all processors. This vector can be established by first using '<a class="el" href="namespaceGridTools.html#ab6ed37fb4458b7a7c782afdb9d0d2664">GridTools::compute_mesh_predicate_bounding_box()</a>' and gathering all the bounding boxes using '<a class="el" href="namespaceUtilities_1_1MPI.html#ac5a7433f594a19070add2afa0f769efb">Utilities::MPI::all_gather()</a>.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler</td><td>The particle handler that will take ownership of the generated particles. The particles that are generated will be appended to the particles currently owned by the particle handler.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>An optional mapping object that is used to map the DOF locations. If no mapping is provided a <a class="el" href="classMappingQ1.html">MappingQ1</a> is assumed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">components</td><td>Component mask that decides which subset of the support points of the dof_handler are used to generate the particles.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">properties</td><td>An optional vector of vector of properties for each particle to be inserted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1cd861e3aaf1770ddcddd956cdae5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cd861e3aaf1770ddcddd956cdae5e4">&#9670;&nbsp;</a></span>quadrature_points()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::quadrature_points </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQuadrature.html">Quadrature</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>quadrature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>global_bounding_boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;&#160;dim&#160;&gt;()&#160;.template&#160;<a class="el" href="mapping_8h.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;&#160;dim,&#160;spacedim&#160;&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>properties</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that generates particles at the locations of the quadrature points of a <a class="el" href="classTriangulation.html">Triangulation</a>. This <a class="el" href="classTriangulation.html">Triangulation</a> can be different from the one used to construct the <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>. The total number of particles that is added to the <code>particle_handler</code> object is the number of cells multiplied by the number of particle reference locations which are generally constructed using a quadrature. This function uses insert_global_particles and consequently may induce considerable mpi communication overhead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">triangulation</td><td>The possibly non-matching triangulation which is used to insert the particles into the domain.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quadrature</td><td>A quadrature whose reference location are used to insert the particles within the cells.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">global_bounding_boxes</td><td>A vector that contains all the bounding boxes for all processors. This vector can be established by first using '<a class="el" href="namespaceGridTools.html#ab6ed37fb4458b7a7c782afdb9d0d2664">GridTools::compute_mesh_predicate_bounding_box()</a>' and gathering all the bounding boxes using '<a class="el" href="namespaceUtilities_1_1MPI.html#ac5a7433f594a19070add2afa0f769efb">Utilities::MPI::all_gather</a>.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler</td><td>The particle handler that will take ownership of the generated particles.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>An optional mapping object that is used to map the quadrature locations. If no mapping is provided a <a class="el" href="classMappingQ1.html">MappingQ1</a> is assumed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">properties</td><td>An optional vector of vector of properties for each particle to be inserted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
