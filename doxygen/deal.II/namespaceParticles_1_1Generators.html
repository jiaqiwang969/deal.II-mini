<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/namespaceParticles_1_1Generators.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: Particles::Generators Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceParticles.html">Particles</a></li><li class="navelem"><a class="el" href="namespaceParticles_1_1Generators.html">Generators</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Particles::Generators Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2684a4c28278c3def771feb452c16a47"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a2684a4c28278c3def771feb452c16a47"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a2684a4c28278c3def771feb452c16a47">regular_reference_locations</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;<a class="el" href="p4est__wrappers_8cc.html#ace00f2f80d9780ef9aa1007e1c22c6a4">triangulation</a>, const std::vector&lt; <a class="el" href="classPoint.html">Point</a>&lt; dim &gt;&gt; &amp;particle_reference_locations, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()))</td></tr>
<tr class="separator:a2684a4c28278c3def771feb452c16a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f122148c370c419f587af4ecc7381f"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a72f122148c370c419f587af4ecc7381f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classParticles_1_1Particle.html">Particle</a>&lt; dim, spacedim &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a72f122148c370c419f587af4ecc7381f">random_particle_in_cell</a> (const typename <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::active_cell_iterator &amp;cell, const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a> id, std::mt19937 &amp;random_number_generator, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()))</td></tr>
<tr class="separator:a72f122148c370c419f587af4ecc7381f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc34529399792726fea6706d3b2e533"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a0dc34529399792726fea6706d3b2e533"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a0dc34529399792726fea6706d3b2e533">probabilistic_locations</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;<a class="el" href="p4est__wrappers_8cc.html#ace00f2f80d9780ef9aa1007e1c22c6a4">triangulation</a>, const <a class="el" href="classFunction.html">Function</a>&lt; spacedim &gt; &amp;probability_density_function, const <a class="el" href="classbool.html">bool</a> random_cell_selection, const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a> n_particles_to_create, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const unsigned <a class="el" href="classint.html">int</a> random_number_seed=5432)</td></tr>
<tr class="separator:a0dc34529399792726fea6706d3b2e533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498c6b70c8c3169a3d1513418beb9e15"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:a498c6b70c8c3169a3d1513418beb9e15"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#a498c6b70c8c3169a3d1513418beb9e15">dof_support_points</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;global_bounding_boxes, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const <a class="el" href="classComponentMask.html">ComponentMask</a> &amp;components=<a class="el" href="classComponentMask.html">ComponentMask</a>(), const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;properties={})</td></tr>
<tr class="separator:a498c6b70c8c3169a3d1513418beb9e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memTemplParams" colspan="2">template&lt;int dim, int spacedim = dim&gt; </td></tr>
<tr class="memitem:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceParticles_1_1Generators.html#aa1cd861e3aaf1770ddcddd956cdae5e4">quadrature_points</a> (const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;<a class="el" href="p4est__wrappers_8cc.html#ace00f2f80d9780ef9aa1007e1c22c6a4">triangulation</a>, const <a class="el" href="classQuadrature.html">Quadrature</a>&lt; dim &gt; &amp;quadrature, const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;global_bounding_boxes, <a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;particle_handler, const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;mapping=(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt; dim &gt;() .template <a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt; dim, spacedim &gt;()), const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;properties={})</td></tr>
<tr class="separator:aa1cd861e3aaf1770ddcddd956cdae5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>一个命名空间，包含所有与粒子生成有关的类。 </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2684a4c28278c3def771feb452c16a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2684a4c28278c3def771feb452c16a47">&#9670;&nbsp;</a></span>regular_reference_locations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::regular_reference_locations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classPoint.html">Point</a>&lt; dim &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_reference_locations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;dim&gt;()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.template&#160;<a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;dim,&#160;spacedim&gt;())</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个在指定的 <code>particle_reference_locations</code>. 的每个单元中生成粒子的函数 被添加到 <code>particle_handler</code> 对象中的粒子总数是 <code>triangulation</code> 的本地拥有的单元数乘以 <code>particle_reference_locations</code>. 中的位置数 一个可选的 <code>mapping</code> 参数可用于从 <code>particle_reference_locations</code> 映射到真实的粒子位置。 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">triangulation</td><td>与 <code>particle_handler</code>. 相关的三角形。 </td></tr>
    <tr><td class="paramname">particle_reference_locations</td><td>单元格中的一个位置矢量。 粒子将在每个单元格中的这些位置生成。 </td></tr>
    <tr><td class="paramname">particle_handler</td><td>粒子处理程序，它将负责生成的粒子的所有权。 </td></tr>
    <tr><td class="paramname">mapping</td><td>一个可选的映射对象，用于将单元格中的参考位置映射到三角形的真实单元。如果没有提供映射，则假定有MappingQ1。 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generators_8cc_source.html#l00113">113</a> of file <a class="el" href="generators_8cc_source.html">generators.cc</a>.</p>

</div>
</div>
<a id="a72f122148c370c419f587af4ecc7381f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f122148c370c419f587af4ecc7381f">&#9670;&nbsp;</a></span>random_particle_in_cell()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classParticles_1_1Particle.html">Particle</a>&lt; dim, spacedim &gt; Particles::Generators::random_particle_in_cell </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::active_cell_iterator &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::mt19937 &amp;&#160;</td>
          <td class="paramname"><em>random_number_generator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;dim&gt;()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.template&#160;<a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;dim,&#160;spacedim&gt;())</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个在单元格 <code>cell</code> 中的随机位置生成一个粒子的函数，其索引为 <code>id</code>. 。该函数希望有一个随机数发生器，以避免为每个粒子生成和销毁一个发生器的昂贵费用，并且可以选择考虑到单元格的映射。在该函数中实现的算法在 <b>[GLHPW2018]</b> 中有描述。简而言之，该算法在 <code>cell</code>. 的边界框内生成随机位置，然后反转映射以检查生成的粒子是否在细胞本身内。这确保了该算法即使对于非线性映射和扭曲的单元格也能产生统计学上的随机位置。然而，如果界线盒和单元格体积之间的比率变得非常大的话</p>
<ul>
<li>即细胞变得强烈变形，例如一个铅笔形状的细胞位于域的对角线上</li>
<li>那么该算法可能会变得非常低效。 因此，在抛出错误信息之前，它只尝试找到一个固定次数的单元格位置。 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cell</td><td>生成粒子的单元。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>将被分配给新粒子的粒子索引。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">random_number_generator</td><td>将用于创建粒子的随机数发生器。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>一个可选的映射对象，用于将单元格中的参考位置映射到真实单元格。如果没有提供映射，则假定有MappingQ1。 </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="generators_8cc_source.html#l00169">169</a> of file <a class="el" href="generators_8cc_source.html">generators.cc</a>.</p>

</div>
</div>
<a id="a0dc34529399792726fea6706d3b2e533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc34529399792726fea6706d3b2e533">&#9670;&nbsp;</a></span>probabilistic_locations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::probabilistic_locations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classFunction.html">Function</a>&lt; spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>probability_density_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>random_cell_selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacetypes.html#ae4ea18e3efb31f0312a9e754873d71b8">types::particle_index</a>&#160;</td>
          <td class="paramname"><em>n_particles_to_create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;dim&gt;()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.template&#160;<a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;dim,&#160;spacedim&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>random_number_seed</em> = <code>5432</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个根据所提供的概率密度函数 <code>probability_density_function</code>. 在域中随机生成粒子密度的函数，添加到 <code>particle_handler</code> 对象中的粒子总数为 <code>n_particles_to_create</code>. 一个可选的 <code>mapping</code> 参数可用于从 <code>particle_reference_locations</code> 映射到真实粒子位置。 该函数可以通过计算每个单元的概率密度函数的积分并相应地创建粒子来确定每个单元的粒子数（如果选项 <code>random_cell_selection</code> 设置为false），或者它可以根据概率密度函数和单元大小随机选择单元（如果选项 <code>random_cell_selection</code> 设置为true）。在这两种情况下，细胞内单个粒子的位置都是随机计算的。 该函数中实现的算法在 <b>[GLHPW2018]</b> 中有描述。 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">triangulation</td><td>与 <code>particle_handler</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">probability_density_function</td><td>与非负值有关的函数，决定在这个位置生成粒子的概率密度。该函数不需要被归一化。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">random_cell_selection</td><td>一个bool，决定如何计算每个单元的粒子数（见上面的描述）。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_particles_to_create</td><td>这个函数将创建的粒子的数量。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler（粒子处理程序）</td><td>将对生成的粒子拥有所有权的粒子处理程序。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>一个可选的映射对象，用于将单元格中的参考位置映射到三角形的实际单元。如果没有提供映射，则假定是MappingQ1。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">random_number_seed</td><td>一个可选的种子，决定随机数发生器的初始状态。使用相同的数字来获得可重复的粒子分布，或者使用一个变化的数字（例如基于系统时间）来为每次对该函数的调用产生不同的粒子分布。 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generators_8cc_source.html#l00229">229</a> of file <a class="el" href="generators_8cc_source.html">generators.cc</a>.</p>

</div>
</div>
<a id="a498c6b70c8c3169a3d1513418beb9e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a498c6b70c8c3169a3d1513418beb9e15">&#9670;&nbsp;</a></span>dof_support_points()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::dof_support_points </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>global_bounding_boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;dim&gt;()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.template&#160;<a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;dim,&#160;spacedim&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classComponentMask.html">ComponentMask</a> &amp;&#160;</td>
          <td class="paramname"><em>components</em> = <code><a class="el" href="classComponentMask.html">ComponentMask</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>properties</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个在DoFHandler的支持点位置生成粒子的函数，可能是基于与用于构建ParticleHandler的三角图不同的三角图。 被添加到 <code>particle_handler</code> 对象中的粒子总数是被传递的DoFHandler中位于三角形内且其组件位于ComponentMask内的dofs数量。 这个函数使用insert_global_particles，因此可能会引起相当大的mpi通信开销。 这个函数在 <a class="el" href="step_70.html">step-70</a> 中使用。 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dof_handler</td><td>一个DOF处理程序，可能存在于另一个三角形上，用于确定粒子的位置。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">global_bounding_boxes</td><td>一个包含所有处理器的所有边界盒的向量。这个向量可以通过首先使用 '<a class="el" href="namespaceGridTools.html#a08438d4ad901817b7b638ce733fd664d">GridTools::compute_mesh_predicate_bounding_box()</a>' 来建立，然后使用 '<a class="el" href="namespaceUtilities_1_1MPI.html#ac5a7433f594a19070add2afa0f769efb">Utilities::MPI::all_gather()</a>. 来收集所有的边界框。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler</td><td>粒子处理程序，将负责生成的粒子的所有权。生成的粒子将被附加到当前由粒子处理程序拥有的粒子上。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>一个可选的映射对象，用于映射DOF位置。如果没有提供映射，则假定是MappingQ1。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">components</td><td>决定使用哪个支持点的dof_handler的子集来生成粒子的组件掩码。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">properties</td><td>每个要插入的粒子的可选属性向量。 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generators_8cc_source.html#l00414">414</a> of file <a class="el" href="generators_8cc_source.html">generators.cc</a>.</p>

</div>
</div>
<a id="aa1cd861e3aaf1770ddcddd956cdae5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cd861e3aaf1770ddcddd956cdae5e4">&#9670;&nbsp;</a></span>quadrature_points()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Particles::Generators::quadrature_points </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQuadrature.html">Quadrature</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>quadrature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classBoundingBox.html">BoundingBox</a>&lt; spacedim &gt;&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>global_bounding_boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParticles_1_1ParticleHandler.html">ParticleHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>particle_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMapping.html">Mapping</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em> = <code>(<a class="el" href="namespaceReferenceCells.html#a6dcaf877381d5bc2639da69a586ee9d4">ReferenceCells::get_hypercube</a>&lt;dim&gt;()&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.template&#160;<a class="el" href="mapping_8cc.html#a37bc014c9df991ae1a0fd959ede60039">get_default_linear_mapping</a>&lt;dim,&#160;spacedim&gt;())</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>properties</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个在Triangulation的正交点位置生成粒子的函数。这个三角图可以不同于用于构造ParticleHandler的三角图。 被添加到 <code>particle_handler</code> 对象中的粒子总数是单元格的数量乘以粒子参考位置的数量，这些参考位置通常是用正交点构建的。 这个函数使用insert_global_particles，因此可能引起相当大的mpi通信开销。 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">triangulation</td><td>可能是不匹配的三角形，用于将粒子插入域中。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">正交法</td><td>一个正交法，其参考位置用于在单元中插入粒子。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">global_bounding_boxes</td><td>一个包含所有处理器的所有边界盒的向量。这个向量可以通过首先使用 '<a class="el" href="namespaceGridTools.html#a08438d4ad901817b7b638ce733fd664d">GridTools::compute_mesh_predicate_bounding_box()</a>' 来建立，并使用 '<a class="el" href="namespaceUtilities_1_1MPI.html#ac5a7433f594a19070add2afa0f769efb">Utilities::MPI::all_gather</a>. 来收集所有的边界框。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">particle_handler</td><td>粒子处理程序，它将负责生成的粒子的所有权。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>一个可选的映射对象，用于映射正交位置。如果没有提供映射，则假定有MappingQ1。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">properties</td><td>一个可选的矢量，用于插入每个粒子的属性矢量。 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="generators_8cc_source.html#l00451">451</a> of file <a class="el" href="generators_8cc_source.html">generators.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
