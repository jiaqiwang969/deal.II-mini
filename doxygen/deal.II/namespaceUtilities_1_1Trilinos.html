<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/namespaceUtilities_1_1Trilinos.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: Utilities::Trilinos Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceUtilities.html">Utilities</a></li><li class="navelem"><a class="el" href="namespaceUtilities_1_1Trilinos.html">Trilinos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utilities::Trilinos Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a91d12e758f8089d1787d86da1e206a26"><td class="memItemLeft" align="right" valign="top">const Epetra_Comm &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a91d12e758f8089d1787d86da1e206a26">comm_world</a> ()</td></tr>
<tr class="separator:a91d12e758f8089d1787d86da1e206a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef21cb4042888dbe0e9b30881e419fc"><td class="memItemLeft" align="right" valign="top">const Epetra_Comm &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a5ef21cb4042888dbe0e9b30881e419fc">comm_self</a> ()</td></tr>
<tr class="separator:a5ef21cb4042888dbe0e9b30881e419fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb3bc5ce70aa03e27fb6a2bc58f7742"><td class="memItemLeft" align="right" valign="top">const Teuchos::RCP&lt; const Teuchos::Comm&lt; <a class="el" href="classint.html">int</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a8cb3bc5ce70aa03e27fb6a2bc58f7742">tpetra_comm_self</a> ()</td></tr>
<tr class="separator:a8cb3bc5ce70aa03e27fb6a2bc58f7742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e14f4d67a0a98bf20c89c5027624f8"><td class="memItemLeft" align="right" valign="top">Epetra_Comm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a90e14f4d67a0a98bf20c89c5027624f8">duplicate_communicator</a> (const Epetra_Comm &amp;communicator)</td></tr>
<tr class="separator:a90e14f4d67a0a98bf20c89c5027624f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050c29b445b9cfc23af93cad8fc0e5b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a050c29b445b9cfc23af93cad8fc0e5b8">destroy_communicator</a> (Epetra_Comm &amp;communicator)</td></tr>
<tr class="separator:a050c29b445b9cfc23af93cad8fc0e5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533f1af4c8ce78331055554880899ae6"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a533f1af4c8ce78331055554880899ae6">get_n_mpi_processes</a> (const Epetra_Comm &amp;mpi_communicator)</td></tr>
<tr class="separator:a533f1af4c8ce78331055554880899ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9622fc1593b52318b3ddf4e9589675"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a2c9622fc1593b52318b3ddf4e9589675">get_this_mpi_process</a> (const Epetra_Comm &amp;mpi_communicator)</td></tr>
<tr class="separator:a2c9622fc1593b52318b3ddf4e9589675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ef2d69bce3d67bdcde263024445520"><td class="memItemLeft" align="right" valign="top">Epetra_Map&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtilities_1_1Trilinos.html#a06ef2d69bce3d67bdcde263024445520">duplicate_map</a> (const Epetra_BlockMap &amp;map, const Epetra_Comm &amp;comm)</td></tr>
<tr class="separator:a06ef2d69bce3d67bdcde263024445520"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This namespace provides some of the basic structures used in the initialization of the <a class="el" href="namespaceUtilities_1_1Trilinos.html">Trilinos</a> objects (e.g., matrices, vectors, and preconditioners). </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a91d12e758f8089d1787d86da1e206a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d12e758f8089d1787d86da1e206a26">&#9670;&nbsp;</a></span>comm_world()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Epetra_Comm &amp; Utilities::Trilinos::comm_world </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a <a class="el" href="namespaceUtilities_1_1Trilinos.html">Trilinos</a> Epetra_Comm object needed for creation of Epetra_Maps.</p>
<p>If deal.II has been configured to use a compiler that does not support <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> then the resulting communicator will be a serial one. Otherwise, the communicator will correspond to MPI_COMM_WORLD, i.e. a communicator that encompasses all processes within this <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> universe. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01081">1081</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a5ef21cb4042888dbe0e9b30881e419fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef21cb4042888dbe0e9b30881e419fc">&#9670;&nbsp;</a></span>comm_self()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Epetra_Comm &amp; Utilities::Trilinos::comm_self </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a <a class="el" href="namespaceUtilities_1_1Trilinos.html">Trilinos</a> Epetra_Comm object needed for creation of Epetra_Maps.</p>
<p>If deal.II has been configured to use a compiler that does not support <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> then the resulting communicator will be a serial one. Otherwise, the communicator will correspond to MPI_COMM_SELF, i.e. a communicator that comprises only this one processor. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01113">1113</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a8cb3bc5ce70aa03e27fb6a2bc58f7742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb3bc5ce70aa03e27fb6a2bc58f7742">&#9670;&nbsp;</a></span>tpetra_comm_self()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Teuchos::RCP&lt; const Teuchos::Comm&lt; <a class="el" href="classint.html">int</a> &gt; &gt; &amp; Utilities::Trilinos::tpetra_comm_self </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a Teuchos::Comm object needed for creation of Tpetra::Maps.</p>
<p>If deal.II has been configured to use a compiler that does not support <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> then the resulting communicator will be a serial one. Otherwise, the communicator will correspond to MPI_COMM_SELF, i.e. a communicator that comprises only this one processor. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01097">1097</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a90e14f4d67a0a98bf20c89c5027624f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e14f4d67a0a98bf20c89c5027624f8">&#9670;&nbsp;</a></span>duplicate_communicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Epetra_Comm * Utilities::Trilinos::duplicate_communicator </td>
          <td>(</td>
          <td class="paramtype">const Epetra_Comm &amp;&#160;</td>
          <td class="paramname"><em>communicator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a communicator, duplicate it. If the given communicator is serial, that means to just return a copy of itself. On the other hand, if it is parallel, we duplicate the underlying MPI_Comm object: we create a separate <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> communicator that contains the same processors and in the same order but has a separate identifier distinct from the given communicator. The function returns a pointer to a new object of a class derived from Epetra_Comm. The caller of this function needs to assume ownership of this function. The returned object should be destroyed using the <a class="el" href="namespaceUtilities_1_1Trilinos.html#a050c29b445b9cfc23af93cad8fc0e5b8">destroy_communicator()</a> function.</p>
<p>This facility is used to separate streams of communication. For example, a program could simply use MPI_Comm_World for everything. But it is easy to come up with scenarios where sometimes not all processors participate in a communication that is intended to be global &ndash; for example if we assemble a matrix on a coarse mesh with fewer cells than there are processors, some processors may not sync their matrices with the rest because they haven't written into it because they own no cells. That's clearly a bug. However, if these processors just continue their work, and the next parallel operation happens to be a sync on a different matrix, then the sync could succeed &ndash; by accident, since different processors are talking about different matrices.</p>
<p>This kind of situation can be avoided if we use different communicators for different matrices which reduces the likelihood that communications meant to be separate aren't recognized as such just because they happen on the same communicator. In addition, it is conceivable that some <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> operations can be parallelized using multiple threads because their communicators identifies the communication in question, not their relative timing as is the case in a sequential program that just uses a single communicator. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01129">1129</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a050c29b445b9cfc23af93cad8fc0e5b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050c29b445b9cfc23af93cad8fc0e5b8">&#9670;&nbsp;</a></span>destroy_communicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Utilities::Trilinos::destroy_communicator </td>
          <td>(</td>
          <td class="paramtype">Epetra_Comm &amp;&#160;</td>
          <td class="paramname"><em>communicator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given an Epetra communicator that was created by the <a class="el" href="namespaceUtilities_1_1Trilinos.html#a90e14f4d67a0a98bf20c89c5027624f8">duplicate_communicator()</a> function, destroy the underlying <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> communicator object and reset the Epetra_Comm object to a the result of <a class="el" href="namespaceUtilities_1_1Trilinos.html#a5ef21cb4042888dbe0e9b30881e419fc">comm_self()</a>.</p>
<p>It is necessary to call this function at the time when the result of <a class="el" href="namespaceUtilities_1_1Trilinos.html#a90e14f4d67a0a98bf20c89c5027624f8">duplicate_communicator()</a> is no longer needed. The reason is that in that function, we first create a new MPI_Comm object and then create an Epetra_Comm around it. While we can take care of destroying the latter, it doesn't destroy the communicator since it can only assume that it may also be still used by other objects in the program. Consequently, we have to take care of destroying it ourselves, explicitly.</p>
<p>This function does exactly that. Because this has to happen while the Epetra_Comm object is still around, it first resets the latter and then destroys the communicator object.</p>
<dl class="section note"><dt>Note</dt><dd>If you call this function on an Epetra_Comm object that is not created by <a class="el" href="namespaceUtilities_1_1Trilinos.html#a90e14f4d67a0a98bf20c89c5027624f8">duplicate_communicator()</a>, you are likely doing something quite wrong. Don't do this. </dd></dl>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01156">1156</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a533f1af4c8ce78331055554880899ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533f1af4c8ce78331055554880899ae6">&#9670;&nbsp;</a></span>get_n_mpi_processes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> Utilities::Trilinos::get_n_mpi_processes </td>
          <td>(</td>
          <td class="paramtype">const Epetra_Comm &amp;&#160;</td>
          <td class="paramname"><em>mpi_communicator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> processes there exist in the given <a class="el" href="DEALGlossary.html#GlossMPICommunicator">communicator</a> object. If this is a sequential job (i.e., the program is not using <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> at all, or is using <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> but has been started with only one <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> process), then the communicator necessarily involves only one process and the function returns 1. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01175">1175</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a2c9622fc1593b52318b3ddf4e9589675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9622fc1593b52318b3ddf4e9589675">&#9670;&nbsp;</a></span>get_this_mpi_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> Utilities::Trilinos::get_this_mpi_process </td>
          <td>(</td>
          <td class="paramtype">const Epetra_Comm &amp;&#160;</td>
          <td class="paramname"><em>mpi_communicator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of the present <a class="el" href="namespaceUtilities_1_1MPI.html">MPI</a> process in the space of processes described by the given communicator. This will be a unique value for each process between zero and (less than) the number of all processes (given by <a class="el" href="namespaceUtilities_1_1Trilinos.html#a533f1af4c8ce78331055554880899ae6">get_n_mpi_processes()</a>). </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01182">1182</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
<a id="a06ef2d69bce3d67bdcde263024445520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ef2d69bce3d67bdcde263024445520">&#9670;&nbsp;</a></span>duplicate_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Epetra_Map Utilities::Trilinos::duplicate_map </td>
          <td>(</td>
          <td class="paramtype">const Epetra_BlockMap &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Epetra_Comm &amp;&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a <a class="el" href="namespaceUtilities_1_1Trilinos.html">Trilinos</a> Epetra map, create a new map that has the same subdivision of elements to processors but uses the given communicator object instead of the one stored in the first argument. In essence, this means that we create a map that communicates among the same processors in the same way, but using a separate channel.</p>
<p>This function is typically used with a communicator that has been obtained by the <a class="el" href="namespaceUtilities_1_1Trilinos.html#a90e14f4d67a0a98bf20c89c5027624f8">duplicate_communicator()</a> function. </p>

<p class="definition">Definition at line <a class="el" href="base_2utilities_8cc_source.html#l01190">1190</a> of file <a class="el" href="base_2utilities_8cc_source.html">utilities.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
