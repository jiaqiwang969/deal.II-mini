<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classTimeDependent.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: TimeDependent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classTimeDependent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TimeDependent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="time__dependent_8h_source.html">deal.II/numerics/time_dependent.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a55de3b5182ab608b2fb1f3f132d88f9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9e">Direction</a> { <a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9ea43822403531b8faddaba4d2ed6773eef">forward</a>, 
<a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9ea62bce58174e641d7d14496ad66a68595">backward</a>
 }</td></tr>
<tr class="separator:a55de3b5182ab608b2fb1f3f132d88f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad2d9ed5517250a6703861853b377e371"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#ad2d9ed5517250a6703861853b377e371">TimeDependent</a> (const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;data_primal, const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;data_dual, const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;data_postprocess)</td></tr>
<tr class="separator:ad2d9ed5517250a6703861853b377e371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57eb00d41de5ac0b5e85ab449429524"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#ad57eb00d41de5ac0b5e85ab449429524">~TimeDependent</a> ()</td></tr>
<tr class="separator:ad57eb00d41de5ac0b5e85ab449429524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0023778dc56fd5d8bed14e8f689c5f83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a0023778dc56fd5d8bed14e8f689c5f83">insert_timestep</a> (const <a class="el" href="classTimeStepBase.html">TimeStepBase</a> *position, <a class="el" href="classTimeStepBase.html">TimeStepBase</a> *new_timestep)</td></tr>
<tr class="separator:a0023778dc56fd5d8bed14e8f689c5f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adceb99a948e2e1412085a56b4e787f68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#adceb99a948e2e1412085a56b4e787f68">add_timestep</a> (<a class="el" href="classTimeStepBase.html">TimeStepBase</a> *new_timestep)</td></tr>
<tr class="separator:adceb99a948e2e1412085a56b4e787f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49ae1b02f0079ed7861688dc6ee764d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#ad49ae1b02f0079ed7861688dc6ee764d">delete_timestep</a> (const unsigned <a class="el" href="classint.html">int</a> position)</td></tr>
<tr class="separator:ad49ae1b02f0079ed7861688dc6ee764d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d50f4e53e423097282db2d939ca62a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#aa8d50f4e53e423097282db2d939ca62a">solve_primal_problem</a> ()</td></tr>
<tr class="separator:aa8d50f4e53e423097282db2d939ca62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c5cf6247dea796e4eec7c3b6eec943"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a56c5cf6247dea796e4eec7c3b6eec943">solve_dual_problem</a> ()</td></tr>
<tr class="separator:a56c5cf6247dea796e4eec7c3b6eec943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde6bd44420d6706ad84b55b15661aca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#afde6bd44420d6706ad84b55b15661aca">postprocess</a> ()</td></tr>
<tr class="separator:afde6bd44420d6706ad84b55b15661aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8b2277df654ab4d9fe9809ffa374f2"><td class="memTemplParams" colspan="2">template&lt;typename InitFunctionObject , typename LoopFunctionObject &gt; </td></tr>
<tr class="memitem:a5b8b2277df654ab4d9fe9809ffa374f2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a5b8b2277df654ab4d9fe9809ffa374f2">do_loop</a> (InitFunctionObject init_function, LoopFunctionObject loop_function, const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;timestepping_data, const <a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9e">Direction</a> direction)</td></tr>
<tr class="separator:a5b8b2277df654ab4d9fe9809ffa374f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b2dba637a03d680b8918d904eb2c0e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#af9b2dba637a03d680b8918d904eb2c0e">start_sweep</a> (const unsigned <a class="el" href="classint.html">int</a> <a class="el" href="classTimeDependent.html#ab8a97b3419a346419077941d082dfd73">sweep_no</a>)</td></tr>
<tr class="separator:af9b2dba637a03d680b8918d904eb2c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3acc63d7a9c62ebef61afe48dce9ee"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a0b3acc63d7a9c62ebef61afe48dce9ee">end_sweep</a> ()</td></tr>
<tr class="separator:a0b3acc63d7a9c62ebef61afe48dce9ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145fa0199ac7c678cc3f28f84f757af6"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a145fa0199ac7c678cc3f28f84f757af6">memory_consumption</a> () const</td></tr>
<tr class="separator:a145fa0199ac7c678cc3f28f84f757af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d42edbea290d936a5318e3326f5b946"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a7d42edbea290d936a5318e3326f5b946">DeclExceptionMsg</a> (ExcInvalidPosition, &quot;You cannot insert a time step at the specified position.&quot;)</td></tr>
<tr class="separator:a7d42edbea290d936a5318e3326f5b946"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a45bc5cb4c0dc165e66030436e86bda32"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classSmartPointer.html">SmartPointer</a>&lt; <a class="el" href="classTimeStepBase.html">TimeStepBase</a>, <a class="el" href="classTimeDependent.html">TimeDependent</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a></td></tr>
<tr class="separator:a45bc5cb4c0dc165e66030436e86bda32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a97b3419a346419077941d082dfd73"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#ab8a97b3419a346419077941d082dfd73">sweep_no</a></td></tr>
<tr class="separator:ab8a97b3419a346419077941d082dfd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337854b0a7c9361c65520fc57e61dc99"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a337854b0a7c9361c65520fc57e61dc99">timestepping_data_primal</a></td></tr>
<tr class="separator:a337854b0a7c9361c65520fc57e61dc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9faffa5541ca5d3bd30961a0b7fcfaa5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#a9faffa5541ca5d3bd30961a0b7fcfaa5">timestepping_data_dual</a></td></tr>
<tr class="separator:a9faffa5541ca5d3bd30961a0b7fcfaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a70165a5a2e9b4bf9f360fc4160fc5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#af7a70165a5a2e9b4bf9f360fc4160fc5">timestepping_data_postprocess</a></td></tr>
<tr class="separator:af7a70165a5a2e9b4bf9f360fc4160fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad9b1d6fcafcdee7cab466ecc7917ce33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeDependent.html#ad9b1d6fcafcdee7cab466ecc7917ce33">end_sweep</a> (const unsigned <a class="el" href="classint.html">int</a> begin_timestep, const unsigned <a class="el" href="classint.html">int</a> end_timestep)</td></tr>
<tr class="separator:ad9b1d6fcafcdee7cab466ecc7917ce33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides an abstract interface to time dependent problems in that it addresses some of the most annoying aspects of this class of problems: data management. These problems frequently need large amounts of computer resources, most notably computing time, main memory and disk space. Main memory reduction is often the most pressing need, methods to implement it are almost always quite messy, though, quickly leading to code that stores and reloads data at places scattered all over the program, and which becomes unmaintainable sometimes. The present class tries to offer a more structured interface, albeit simple, which emerged in my mind after messing with my wave equation simulation for several months.</p>
<p>The design of this class is mostly tailored for the solution of time dependent partial differential equations where the computational meshes may differ between each two timesteps and where the computations on each time step take a rather long time compared with the overhead of this class. Since no reference to the class of problems is made within this class, it is not restricted to PDEs, though, and it seems likely that a solver for large ordinary matrix differential equations may successfully use the same setup and therefore this class.</p>
<h3>Overview</h3>
<p>The general structure of a time dependent problem solver using a timestepping scheme is about the following: we have a collection of time step objects on which we solve our problem subsequently. In order to do so, we need knowledge of the data on zero or several previous timesteps (when using single or multiple step methods, that is) and maybe also some data of time steps ahead (for example the computational grid on these). Depending on the problem in question, a second loop over all timesteps may be done solving a dual problem, where the loop may run forward (one dual problem for each time step) or backward (using a global dual problem). Within one of these loops or using a separate loop, error estimators may be computed and the grids may be refined. Each of these loops are initiated by a call preparing each timestep object for the next loop, before actually starting the loop itself.</p>
<p>We will denote a complete set of all these loops with the term "sweep". Since this library is mostly about adaptive methods, it is likely that the last loop within a sweep will generate refined meshes and that we will perform another sweep on these refined meshes. A total run will therefore often be a sequence of several sweeps. The global setup therefore looks like this: </p><pre class="fragment">*    for sweep=0 to n_sweeps-1
*    {
*      for i=0 to n_timesteps-1
*        initialize timestep i for this sweep, e.g. for setting up
*        data structures, creating temporary files, etc.
*
*      for i=0 to n_timesteps-1
*        prepare timestep i for loop 0
*      for i=0 to n_timesteps-1
*        perform loop 0 on timestep i   (e.g. solve primal problem)
*
*      for i=0 to n_timesteps-1
*        prepare timestep i for loop 1
*      for i=0 to n_timesteps-1
*        perform loop 1 on timestep i   (e.g. solve dual problem)
*
*      for i=0 to n_timesteps-1
*        prepare timestep i for loop 2
*      for i=0 to n_timesteps-1
*        perform loop 2 on timestep i   (e.g. compute error information)
*
*      ...
*
*      for i=0 to n_timesteps-1
*        notify timestep i of the end of the sweep, e.g. for cleanups,
*        deletion of temporary files, etc.
*    }
* </pre><p> The user may specify that a loop shall run forward or backward (the latter being needed for the solution of global dual problems, for example).</p>
<p>Going from the global overview to a more local viewpoint, we note that when a loop visits one timestep (e.g. to solve the primal or dual problem, or to compute error information), we need information on this, one or more previous time steps and zero or more timesteps in the future. However, often it is not needed to know all information from these timesteps and it is often a computational requirement to delete data at the first possible time when it is no more needed. Likewise, data should be reloaded at the latest time possible.</p>
<p>In order to facilitate these principles, the concept of waking up and letting sleep a time step object was developed. Assume we have a time stepping scheme which needs to look ahead one time step and needs the data of the last two time steps, the following pseudocode describes what the central loop function of this class will do when we move from timestep <code>n-1</code> to timestep <code>n:</code> </p><pre class="fragment">*   wake up timestep n+1 with signal 1
*   wake up timestep n with signal 0
*   do computation on timestep n
*   let timestep n sleep with signal 0
*   let timestep n-1 sleep with signal 1
*   let timestep n-2 sleep with signal 2
*
*   move from n to n+1
* </pre><p> The signal number here denotes the distance of the timestep being sent the signal to the timestep where computations are done on. The calls to the <code>wake_up</code> and <code>sleep</code> functions with signal 0 could in principle be absorbed into the function doing the computation; we use these redundant signals, however, in order to separate computations and data management from each other, allowing to put all stuff around grid management, data reload and storage into one set of functions and computations into another.</p>
<p>In the example above, possible actions might be: timestep <code>n+1</code> rebuilds the computational grid (there is a specialized class which can do this for you); timestep <code>n</code> builds matrices and sets solution vectors to the right size, maybe using an initial guess; then it does the computations; then it deletes the matrices since they are not needed by subsequent timesteps; timestep <code>n-1</code> deletes those data vectors which are only needed by one timestep ahead; timestep <code>n-2</code> deletes the remaining vectors and deletes the computational grid, somewhere storing information how to rebuild it eventually.</p>
<p>From the given sketch above, it is clear that each time step object sees the following sequence of events: </p><pre class="fragment">*   wake up with signal 1
*   wake up with signal 0
*   do computation
*   sleep with signal 0
*   sleep with signal 1
*   sleep with signal 2
* </pre><p> This pattern is repeated for each loop in each sweep.</p>
<p>For the different loops within each sweep, the numbers of timesteps to look ahead (i.e. the maximum signal number to the <code>wake_up</code> function) and the look-behind (i.e. the maximum signal number to the <code>sleep</code> function) can be chosen separately. For example, it is usually only needed to look one time step behind when computing error estimation (in some cases, it may even be possible to not look ahead or back at all, in which case only signals zero will be sent), while one needs a look back of at least one for a timestepping method.</p>
<p>Finally, a note on the direction of look-ahead and look-back is in place: look-ahead always refers to the direction the loop is running in, i.e. for loops running forward, <code>wake_up</code> is called for timestep objects with a greater time value than the one previously computed on, while <code>sleep</code> is called for timesteps with a lower time. If the loop runs in the opposite direction, e.g. when solving a global dual problem, this order is reversed.</p>
<h3>Implementation</h3>
<p>The main loop of a program using this class will usually look like the following one, taken modified from an application program that isn't distributed as part of the library: </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">int</span> dim&gt;</div><div class="line"><span class="keywordtype">void</span> TimeDependent_Wave&lt;dim&gt;::run_sweep (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classTimeDependent.html#ab8a97b3419a346419077941d082dfd73">sweep_no</a>)</div><div class="line">{</div><div class="line">  <a class="code" href="classTimeDependent.html#af9b2dba637a03d680b8918d904eb2c0e">start_sweep</a> (sweep_no);</div><div class="line"></div><div class="line">  <a class="code" href="classTimeDependent.html#aa8d50f4e53e423097282db2d939ca62a">solve_primal_problem</a> ();</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (compute_dual_problem)</div><div class="line">    <a class="code" href="classTimeDependent.html#a56c5cf6247dea796e4eec7c3b6eec943">solve_dual_problem</a> ();</div><div class="line"></div><div class="line">  <a class="code" href="classTimeDependent.html#afde6bd44420d6706ad84b55b15661aca">postprocess</a> ();</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (sweep_no != number_of_sweeps-1)</div><div class="line">    refine_grids ();</div><div class="line"></div><div class="line">  write_statistics ();</div><div class="line"></div><div class="line">  <a class="code" href="classTimeDependent.html#a0b3acc63d7a9c62ebef61afe48dce9ee">end_sweep</a> ();</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">int</span> dim&gt;</div><div class="line"><span class="keywordtype">void</span> <a class="code" href="namespaceWorkStream_1_1internal_1_1tbb__no__coloring.html#a8673698a405bf47aa24002aeb6d76d70">WaveProblem&lt;dim&gt;::run</a> ()</div><div class="line">{</div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sweep=0; sweep&lt;number_of_sweeps; ++sweep)</div><div class="line">    timestep_manager.run_sweep (sweep);</div><div class="line">}</div></div><!-- fragment --><p> Here, <code>timestep_manager</code> is an object of type TimeDependent_Wave&lt;dim&gt;, which is a class derived from <a class="el" href="classTimeDependent.html">TimeDependent</a>. <code>start_sweep</code>, <code>solve_primal_problem</code>, <code>solve_dual_problem</code>, <code>postprocess</code> and <code>end_sweep</code> are functions inherited from this class. They all do a loop over all timesteps within this object and call the respective function on each of these objects. For example, here are two of the functions as they are implemented by the library: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classTimeDependent.html#af9b2dba637a03d680b8918d904eb2c0e">TimeDependent::start_sweep</a> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s)</div><div class="line">{</div><div class="line">  sweep_no = s;</div><div class="line"></div><div class="line"> <span class="comment">// reset the number each time step has, since some time steps might have</span></div><div class="line"> <span class="comment">// been added since the last time we visited them.</span></div><div class="line"> <span class="comment">// also set the sweep we will process in the sequel</span></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> step=0; step&lt;<a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>.size(); ++step)</div><div class="line">    {</div><div class="line">      <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step]-&gt;set_timestep_no (step);</div><div class="line">      <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step]-&gt;set_sweep_no (sweep_no);</div><div class="line">    }</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> step=0; step&lt;<a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>.size(); ++step)</div><div class="line">    <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step]-&gt;<a class="code" href="classTimeDependent.html#af9b2dba637a03d680b8918d904eb2c0e">start_sweep</a> ();</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line"><a class="code" href="classTimeDependent.html#aa8d50f4e53e423097282db2d939ca62a">TimeDependent::solve_primal_problem</a> ()</div><div class="line">{</div><div class="line">  <a class="code" href="classTimeDependent.html#a5b8b2277df654ab4d9fe9809ffa374f2">do_loop</a>([](<a class="code" href="classTimeStepBase.html">TimeStepBase</a> *<span class="keyword">const</span> time_step)</div><div class="line">            { time_step-&gt;<a class="code" href="classTimeStepBase.html#aab2297bf8c63966a5ed50cbba850963e">init_for_primal_problem</a>(); },</div><div class="line">          [](<a class="code" href="classTimeStepBase.html">TimeStepBase</a> *<span class="keyword">const</span> time_step)</div><div class="line">            { time_step-&gt;<a class="code" href="classTimeStepBase.html#ac1f547b8bebb845180be381c667f273f">solve_primal_problem</a>(); },</div><div class="line">          <a class="code" href="classTimeDependent.html#a337854b0a7c9361c65520fc57e61dc99">timestepping_data_primal</a>,</div><div class="line">          <a class="code" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9ea43822403531b8faddaba4d2ed6773eef">forward</a>);</div><div class="line">}</div></div><!-- fragment --><p> The latter function shows rather clear how most of the loops are invoked (<code>solve_primal_problem</code>, <code>solve_dual_problem</code>, <code>postprocess</code>, <code>refine_grids</code> and <code>write_statistics</code> all have this form, where the latter two give functions of the derived timestep class, rather than from the base class). The function <a class="el" href="classTimeStepBase.html#aab2297bf8c63966a5ed50cbba850963e">TimeStepBase::init_for_primal_problem</a> and the respective ones for the other operations defined by that class are only used to store the type of operation which the loop presently performed will do.</p>
<p>As can be seen, most of the work is done by the <code>do_loop</code> function of this class, which takes the addresses of two functions which are used to initialize all timestep objects for the loop and to actually perform some action. The next parameter gives some information on the look-ahead and look-back and the last one denotes in which direction the loop is to be run.</p>
<p>Using lambda functions it is possible to do neat tricks, like the following in this case from the function <code>refine_grids:</code> </p><div class="fragment"><div class="line">...</div><div class="line">compute the thresholds <span class="keywordflow">for</span> refinement</div><div class="line">...</div><div class="line"></div><div class="line">do_loop([](<a class="code" href="classTimeStepBase__Tria.html">TimeStepBase_Tria&lt;dim&gt;</a> *<span class="keyword">const</span> time_step)</div><div class="line">          { time_step-&gt;<a class="code" href="classTimeStepBase__Tria.html#ac1a796bcbbe9333eb95cc66b9fb9f148">init_for_refinement</a>(); },</div><div class="line">        [=](TimeStepBase_Wave&lt;dim&gt; *<span class="keyword">const</span> time_step)</div><div class="line">          {</div><div class="line">            time_step-&gt;<a class="code" href="classTimeStepBase.html#ac1f547b8bebb845180be381c667f273f">solve_primal_problem</a>(</div><div class="line">              <a class="code" href="classTimeStepBase__Tria.html#aa66d0a5c91d8b3ec9b80ff60a3c8e711">TimeStepBase_Tria&lt;dim&gt;::RefinementData</a> (</div><div class="line">                top_threshold, bottom_threshold)));</div><div class="line">          },</div><div class="line">        <a class="code" href="structTimeDependent_1_1TimeSteppingData.html">TimeDependent::TimeSteppingData</a> (0,1),</div><div class="line">        <a class="code" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9ea43822403531b8faddaba4d2ed6773eef">TimeDependent::forward</a>);</div></div><!-- fragment --><p> TimeStepBase_Wave&lt;dim&gt;::refine_grid is a function taking an argument, unlike all the other functions used above within the loops. However, in this special case the parameter was the same for all timesteps and known before the loop was started, so we fixed it and made a function object which to the outside world does not take parameters.</p>
<p>Since it is the central function of this class, we finally present a stripped down version of the <code>do_loop</code> method, which is shown in order to provide a better understanding of the internals of this class. For brevity we have omitted the parts that deal with backward running loops as well as the checks whether wake-up and sleep operations act on timesteps outside <code>0..n_timesteps-1</code>. </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> InitFunctionObject, <span class="keyword">typename</span> LoopFunctionObject&gt;</div><div class="line"><span class="keywordtype">void</span> <a class="code" href="classTimeDependent.html#a5b8b2277df654ab4d9fe9809ffa374f2">TimeDependent::do_loop</a> (InitFunctionObject      init_function,</div><div class="line">                        LoopFunctionObject      loop_function,</div><div class="line">                        <span class="keyword">const</span> TimeSteppingData &amp;timestepping_data,</div><div class="line">                        <span class="keyword">const</span> <a class="code" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9e">Direction</a>         direction)</div><div class="line">{</div><div class="line">  <span class="comment">// initialize the time steps for a round of this loop</span></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> step=0; step&lt;n_timesteps; ++step)</div><div class="line">    init_function (static_cast&lt;typename InitFunctionObject::argument_type&gt;</div><div class="line">                     (<a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step]));</div><div class="line"></div><div class="line">  <span class="comment">// wake up the first few time levels</span></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step=-timestepping_data.look_ahead; step&lt;0; ++step)</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> look_ahead=0;</div><div class="line">         look_ahead&lt;=timestepping_data.look_ahead;</div><div class="line">         ++look_ahead)</div><div class="line">      <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step+look_ahead]-&gt;wake_up(look_ahead);</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> step=0; step&lt;n_timesteps; ++step)</div><div class="line">    {</div><div class="line">      <span class="comment">// first thing: wake up the timesteps ahead as necessary</span></div><div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> look_ahead=0;</div><div class="line">           look_ahead&lt;=timestepping_data.look_ahead;</div><div class="line">           ++look_ahead)</div><div class="line">        <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step+look_ahead]-&gt;wake_up(look_ahead);</div><div class="line"></div><div class="line"></div><div class="line">      <span class="comment">// actually do the work</span></div><div class="line">      loop_function(</div><div class="line">        static_cast&lt;typename LoopFunctionObject::argument_type&gt; (</div><div class="line">          <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step]));</div><div class="line"></div><div class="line">      <span class="comment">// let the timesteps behind sleep</span></div><div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> look_back=0;</div><div class="line">           look_back&lt;=timestepping_data.look_back;</div><div class="line">           ++look_back)</div><div class="line">        <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step-look_back]-&gt;sleep(look_back);</div><div class="line">    }</div><div class="line"></div><div class="line">  <span class="comment">// make the last few timesteps sleep</span></div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> step=n_timesteps;</div><div class="line">       step&lt;=n_timesteps+timestepping_data.look_back;</div><div class="line">       ++step)</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> look_back=0;</div><div class="line">         look_back&lt;=timestepping_data.look_back;</div><div class="line">         ++look_back)</div><div class="line">      <a class="code" href="classTimeDependent.html#a45bc5cb4c0dc165e66030436e86bda32">timesteps</a>[step-look_back]-&gt;sleep(look_back);</div><div class="line">}</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00361">361</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a55de3b5182ab608b2fb1f3f132d88f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55de3b5182ab608b2fb1f3f132d88f9e">&#9670;&nbsp;</a></span>Direction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9e">TimeDependent::Direction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enum offering the different directions in which a loop executed by <code>do_loop</code> may be run. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a55de3b5182ab608b2fb1f3f132d88f9ea43822403531b8faddaba4d2ed6773eef"></a>forward&#160;</td><td class="fielddoc"><p>Go in the forward direction. </p>
</td></tr>
<tr><td class="fieldname"><a id="a55de3b5182ab608b2fb1f3f132d88f9ea62bce58174e641d7d14496ad66a68595"></a>backward&#160;</td><td class="fielddoc"><p>Go in the backward direction. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00418">418</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad2d9ed5517250a6703861853b377e371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2d9ed5517250a6703861853b377e371">&#9670;&nbsp;</a></span>TimeDependent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimeDependent::TimeDependent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;&#160;</td>
          <td class="paramname"><em>data_primal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;&#160;</td>
          <td class="paramname"><em>data_dual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;&#160;</td>
          <td class="paramname"><em>data_postprocess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. </p>

</div>
</div>
<a id="ad57eb00d41de5ac0b5e85ab449429524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57eb00d41de5ac0b5e85ab449429524">&#9670;&nbsp;</a></span>~TimeDependent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual TimeDependent::~TimeDependent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. This will delete the objects pointed to by the pointers given to the <code>insert_*</code> and <code>add_timestep</code> functions, i.e. it will delete the objects doing the computations on each time step. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0023778dc56fd5d8bed14e8f689c5f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0023778dc56fd5d8bed14e8f689c5f83">&#9670;&nbsp;</a></span>insert_timestep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::insert_timestep </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTimeStepBase.html">TimeStepBase</a> *&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTimeStepBase.html">TimeStepBase</a> *&#160;</td>
          <td class="paramname"><em>new_timestep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a timestep at any position. The position is a pointer to an existing time step object, or a null pointer denoting the end of the timestep sequence. If <code>position</code> is non-null, the new time step will be inserted before the respective element.</p>
<p>Note that by giving an object to this function, the <a class="el" href="classTimeDependent.html">TimeDependent</a> object assumes ownership of the object; it will therefore also take care of deletion of the objects its manages.</p>
<p>There is another function, <code>add_timestep</code>, which inserts a time step at the end of the list.</p>
<p>Note that this function does not change the timestep numbers stored within the other timestep objects, nor does it set the timestep number of this new timestep. This is only done upon calling the <code>start_sweep</code> function. In not changing the timestep numbers, it is simpler to operate on a space-time triangulation since one can always use the timestep numbers that were used in the previous sweep. </p>

</div>
</div>
<a id="adceb99a948e2e1412085a56b4e787f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adceb99a948e2e1412085a56b4e787f68">&#9670;&nbsp;</a></span>add_timestep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::add_timestep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTimeStepBase.html">TimeStepBase</a> *&#160;</td>
          <td class="paramname"><em>new_timestep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Just like <code>insert_timestep</code>, but insert at the end.</p>
<p>This mechanism usually will result in a set-up loop like this </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="namespaceLAPACKSupport.html#a8edacd69ab93285f82b7f63c733a86b7">N</a>; ++i)</div><div class="line">  manager.add_timestep(<span class="keyword">new</span> MyTimeStep());</div></div><!-- fragment --> 
</div>
</div>
<a id="ad49ae1b02f0079ed7861688dc6ee764d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49ae1b02f0079ed7861688dc6ee764d">&#9670;&nbsp;</a></span>delete_timestep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::delete_timestep </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a timestep. This is only necessary to call, if you want to delete it between two sweeps; at the end of the lifetime of this object, care is taken automatically of deletion of the time step objects. Deletion of the object by the destructor is done through this function also.</p>
<p>Note that this function does not change the timestep numbers stored within the other timestep objects. This is only done upon calling the <code>start_sweep</code> function. In not changing the timestep numbers, it is simpler to operate on a space-time triangulation since one can always use the timestep numbers that were used in the previous sweep. </p>

</div>
</div>
<a id="aa8d50f4e53e423097282db2d939ca62a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8d50f4e53e423097282db2d939ca62a">&#9670;&nbsp;</a></span>solve_primal_problem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::solve_primal_problem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve the primal problem; uses the functions <code>init_for_primal_problem</code> and <code>solve_primal_problem</code> of the <a class="el" href="classTimeStepBase.html">TimeStepBase</a> class through the <code>do_loop</code> function of this class.</p>
<p>Look ahead and look back are determined by the <code>timestepping_data_primal</code> object given to the constructor. </p>

</div>
</div>
<a id="a56c5cf6247dea796e4eec7c3b6eec943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c5cf6247dea796e4eec7c3b6eec943">&#9670;&nbsp;</a></span>solve_dual_problem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::solve_dual_problem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve the dual problem; uses the functions <code>init_for_dual_problem</code> and <code>solve_dual_problem</code> of the <a class="el" href="classTimeStepBase.html">TimeStepBase</a> class through the <code>do_loop</code> function of this class.</p>
<p>Look ahead and look back are determined by the <code>timestepping_data_dual</code> object given to the constructor. </p>

</div>
</div>
<a id="afde6bd44420d6706ad84b55b15661aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde6bd44420d6706ad84b55b15661aca">&#9670;&nbsp;</a></span>postprocess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::postprocess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do a postprocessing round; uses the functions <code>init_for_postprocessing</code> and <code>postprocess</code> of the <a class="el" href="classTimeStepBase.html">TimeStepBase</a> class through the <code>do_loop</code> function of this class.</p>
<p>Look ahead and look back are determined by the <code>timestepping_data_postprocess</code> object given to the constructor. </p>

</div>
</div>
<a id="a5b8b2277df654ab4d9fe9809ffa374f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8b2277df654ab4d9fe9809ffa374f2">&#9670;&nbsp;</a></span>do_loop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InitFunctionObject , typename LoopFunctionObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::do_loop </td>
          <td>(</td>
          <td class="paramtype">InitFunctionObject&#160;</td>
          <td class="paramname"><em>init_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoopFunctionObject&#160;</td>
          <td class="paramname"><em>loop_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> &amp;&#160;</td>
          <td class="paramname"><em>timestepping_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9e">Direction</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do a loop over all timesteps, call the <code>init_function</code> at the beginning and the <code>loop_function</code> of each time step. The <code>timestepping_data</code> determine how many timesteps in front and behind the present one the <code>wake_up</code> and <code>sleep</code> functions are called.</p>
<p>To see how this function work, note that the function <code>solve_primal_problem</code> only consists of the following call: </p><div class="fragment"><div class="line"><a class="code" href="classTimeDependent.html#a5b8b2277df654ab4d9fe9809ffa374f2">do_loop</a>([](<a class="code" href="classTimeStepBase.html">TimeStepBase</a> *<span class="keyword">const</span> time_step)</div><div class="line">          { time_step-&gt;<a class="code" href="classTimeStepBase.html#aab2297bf8c63966a5ed50cbba850963e">init_for_primal_problem</a>(); },</div><div class="line">        [](<a class="code" href="classTimeStepBase.html">TimeStepBase</a> *<span class="keyword">const</span> time_step)</div><div class="line">          { time_step-&gt;<a class="code" href="classTimeStepBase.html#ac1f547b8bebb845180be381c667f273f">solve_primal_problem</a>(); },</div><div class="line">        <a class="code" href="classTimeDependent.html#a337854b0a7c9361c65520fc57e61dc99">timestepping_data_primal</a>,</div><div class="line">        <a class="code" href="classTimeDependent.html#a55de3b5182ab608b2fb1f3f132d88f9ea43822403531b8faddaba4d2ed6773eef">forward</a>);</div></div><!-- fragment --><p>Note also, that the given class from which the two functions are taken needs not necessarily be <a class="el" href="classTimeStepBase.html">TimeStepBase</a>, but it could also be a derived class, that is <code>static_castable</code> from a <a class="el" href="classTimeStepBase.html">TimeStepBase</a>. The function may be a virtual function (even a pure one) of that class, which should help if the actual class where it is implemented is one which is derived through virtual base classes and thus unreachable by <code>static_cast</code> from the <a class="el" href="classTimeStepBase.html">TimeStepBase</a> class.</p>
<p>Instead of using the above form, you can equally well use <code>[args...](X *const x){x-&gt;unary_function(args...);}</code> which lets the <code>do_loop</code> function call the given function with the specified parameters. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l01520">1520</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<a id="af9b2dba637a03d680b8918d904eb2c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b2dba637a03d680b8918d904eb2c0e">&#9670;&nbsp;</a></span>start_sweep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TimeDependent::start_sweep </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>sweep_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize the objects for the next sweep. This function specifically does the following: assign each time level the number it presently has within the array (which may change, if time levels are inserted or deleted) and transmit the number of the present sweep to these objects.</p>
<p>It also calls the <code>start_sweep</code> function of each time step object, after the numbers above are set.</p>
<p>This function is virtual, so you may overload it. You should, however not forget to call this function as well from your overwritten version, at best at the beginning of your function since this is some kind of "constructor-like" function, which should be called bottom-up.</p>
<p>The default implementation of this function calls <code>start_sweep</code> on all time step objects. </p>

</div>
</div>
<a id="a0b3acc63d7a9c62ebef61afe48dce9ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3acc63d7a9c62ebef61afe48dce9ee">&#9670;&nbsp;</a></span>end_sweep() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TimeDependent::end_sweep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Analogous to the above function, calling <code>end_sweep</code> of each time step object. The same applies with respect to the <code>virtualness</code> of this function as for the previous one.</p>
<dl class="section note"><dt>Note</dt><dd>This function does not guarantee that <code>end_sweep</code> is called for successive time steps successively, rather the order of time step objects for which the function is called is arbitrary. You should therefore not assume that that function has been called for previous time steps already. If in multithread mode, the <code>end_sweep</code> function of several time steps may be called at once, so you should use synchronization mechanisms if your program requires so. </dd></dl>

</div>
</div>
<a id="a145fa0199ac7c678cc3f28f84f757af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145fa0199ac7c678cc3f28f84f757af6">&#9670;&nbsp;</a></span>memory_consumption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t TimeDependent::memory_consumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine an estimate for the memory consumption (in bytes) of this object. </p>

</div>
</div>
<a id="a7d42edbea290d936a5318e3326f5b946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d42edbea290d936a5318e3326f5b946">&#9670;&nbsp;</a></span>DeclExceptionMsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimeDependent::DeclExceptionMsg </td>
          <td>(</td>
          <td class="paramtype">ExcInvalidPosition&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;You cannot insert a time step at the specified position.&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exception. </p>

</div>
</div>
<a id="ad9b1d6fcafcdee7cab466ecc7917ce33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9b1d6fcafcdee7cab466ecc7917ce33">&#9670;&nbsp;</a></span>end_sweep() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TimeDependent::end_sweep </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>begin_timestep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>end_timestep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Do the work of <code><a class="el" href="classTimeDependent.html#a0b3acc63d7a9c62ebef61afe48dce9ee">end_sweep()</a></code> for some timesteps only. This is useful in multithread mode. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a45bc5cb4c0dc165e66030436e86bda32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45bc5cb4c0dc165e66030436e86bda32">&#9670;&nbsp;</a></span>timesteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classSmartPointer.html">SmartPointer</a>&lt;<a class="el" href="classTimeStepBase.html">TimeStepBase</a>, <a class="el" href="classTimeDependent.html">TimeDependent</a>&gt; &gt; TimeDependent::timesteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classVector.html">Vector</a> holding pointers to the time level objects. This is the main data this object operates on. Note that this object takes possession of the objects pointed to by the pointers in this collection. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00621">621</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<a id="ab8a97b3419a346419077941d082dfd73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a97b3419a346419077941d082dfd73">&#9670;&nbsp;</a></span>sweep_no</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> TimeDependent::sweep_no</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of the present sweep. This is reset by the <code>start_sweep</code> function called at the outset of each sweep. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00627">627</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<a id="a337854b0a7c9361c65520fc57e61dc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337854b0a7c9361c65520fc57e61dc99">&#9670;&nbsp;</a></span>timestepping_data_primal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> TimeDependent::timestepping_data_primal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Some flags telling the <code>solve_primal_problem</code> function what to do. See the documentation of this struct for more information. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00633">633</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<a id="a9faffa5541ca5d3bd30961a0b7fcfaa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9faffa5541ca5d3bd30961a0b7fcfaa5">&#9670;&nbsp;</a></span>timestepping_data_dual</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> TimeDependent::timestepping_data_dual</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Some flags telling the <code>solve_dual_problem</code> function what to do. See the documentation of this struct for more information. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00639">639</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<a id="af7a70165a5a2e9b4bf9f360fc4160fc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a70165a5a2e9b4bf9f360fc4160fc5">&#9670;&nbsp;</a></span>timestepping_data_postprocess</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTimeDependent_1_1TimeSteppingData.html">TimeSteppingData</a> TimeDependent::timestepping_data_postprocess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Some flags telling the <code>postprocess</code> function what to do. See the documentation of this struct for more information. </p>

<p class="definition">Definition at line <a class="el" href="time__dependent_8h_source.html#l00645">645</a> of file <a class="el" href="time__dependent_8h_source.html">time_dependent.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/deal.II/numerics/<a class="el" href="time__dependent_8h_source.html">time_dependent.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
