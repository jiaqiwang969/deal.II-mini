<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classThreads_1_1ThreadLocalStorage.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: Threads::ThreadLocalStorage&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceThreads.html">Threads</a></li><li class="navelem"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classThreads_1_1ThreadLocalStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Threads::ThreadLocalStorage&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class that provides a separate storage location on each thread that accesses the object.  
 <a href="classThreads_1_1ThreadLocalStorage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thread__local__storage_8h_source.html">deal.II/base/thread_local_storage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Threads::ThreadLocalStorage&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classThreads_1_1ThreadLocalStorage__inherit__graph.svg" width="748" height="1054"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6a2959fea1248c93d2853b0056ed3a0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a6a2959fea1248c93d2853b0056ed3a0c">ThreadLocalStorage</a> ()=default</td></tr>
<tr class="separator:a6a2959fea1248c93d2853b0056ed3a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551a0ed24c5677e7d19e39f8831c38bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a551a0ed24c5677e7d19e39f8831c38bf">ThreadLocalStorage</a> (const <a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;)</td></tr>
<tr class="separator:a551a0ed24c5677e7d19e39f8831c38bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaff67acb91859c98ecc129f10315d9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#afaff67acb91859c98ecc129f10315d9f">ThreadLocalStorage</a> (<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;&amp;t) noexcept</td></tr>
<tr class="separator:afaff67acb91859c98ecc129f10315d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab124d958464c60b8ace2827547e388"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a5ab124d958464c60b8ace2827547e388">ThreadLocalStorage</a> (const T &amp;t)</td></tr>
<tr class="separator:a5ab124d958464c60b8ace2827547e388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae627e2a0659eb5f751589c07ddd49d4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#ae627e2a0659eb5f751589c07ddd49d4a">ThreadLocalStorage</a> (T &amp;&amp;t)</td></tr>
<tr class="separator:ae627e2a0659eb5f751589c07ddd49d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac03908f960edb905d3354286d76a03d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#aac03908f960edb905d3354286d76a03d">operator=</a> (const <a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;t)</td></tr>
<tr class="separator:aac03908f960edb905d3354286d76a03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6ad04cd126f8f71d6bf3569ba47602"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a5e6ad04cd126f8f71d6bf3569ba47602">operator=</a> (<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> &amp;&amp;t) noexcept</td></tr>
<tr class="separator:a5e6ad04cd126f8f71d6bf3569ba47602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c730cfc9a6d00b330761ff10fc896"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get</a> ()</td></tr>
<tr class="separator:a559c730cfc9a6d00b330761ff10fc896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef0dc92ea0ac606fc38fee6bbec2af8"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a3ef0dc92ea0ac606fc38fee6bbec2af8">get</a> (<a class="el" href="classbool.html">bool</a> &amp;exists)</td></tr>
<tr class="separator:a3ef0dc92ea0ac606fc38fee6bbec2af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782e7db394fcf3190bbc4e3006f63891"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a782e7db394fcf3190bbc4e3006f63891">operator T&amp;</a> ()</td></tr>
<tr class="separator:a782e7db394fcf3190bbc4e3006f63891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941a6b6e42ffec61c1d72b87f7348587"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a941a6b6e42ffec61c1d72b87f7348587">operator=</a> (const T &amp;t)</td></tr>
<tr class="separator:a941a6b6e42ffec61c1d72b87f7348587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab184688791b37d68bd9d0f4e657fffc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#ab184688791b37d68bd9d0f4e657fffc8">operator=</a> (T &amp;&amp;t)</td></tr>
<tr class="separator:ab184688791b37d68bd9d0f4e657fffc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09bc8f706128e564b421fe8b53e23eda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a09bc8f706128e564b421fe8b53e23eda">clear</a> ()</td></tr>
<tr class="separator:a09bc8f706128e564b421fe8b53e23eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a879f9ec57b058e8bbcf187102140d311"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::thread::id, T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a879f9ec57b058e8bbcf187102140d311">data</a></td></tr>
<tr class="separator:a879f9ec57b058e8bbcf187102140d311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a240d9c583eb12f37b002c5abcf5394"><td class="memItemLeft" align="right" valign="top">std::shared_timed_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a9a240d9c583eb12f37b002c5abcf5394">insertion_mutex</a></td></tr>
<tr class="separator:a9a240d9c583eb12f37b002c5abcf5394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad062d104981903e592cf037ef2490a69"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#ad062d104981903e592cf037ef2490a69">exemplar</a></td></tr>
<tr class="separator:ad062d104981903e592cf037ef2490a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a3e3e130352fe00139d9166e72ed78fbf"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThreads_1_1ThreadLocalStorage.html#a3e3e130352fe00139d9166e72ed78fbf">::LogStream</a></td></tr>
<tr class="separator:a3e3e130352fe00139d9166e72ed78fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class Threads::ThreadLocalStorage&lt; T &gt;</h3>

<p>A class that provides a separate storage location on each thread that accesses the object. </p>
<p>This class offers ways so that every thread that accesses it has its own copy of an object of type T. In essence, accessing this object can never result in race conditions in multithreaded programs since no other thread than the current one can ever access it.</p>
<h3>Construction and destruction</h3>
<p>Objects of this class can either be default constructed or by providing an "exemplar", i.e. an object of type T so that every time we need to create a T on a thread that doesn't already have such an object, it is copied from the exemplar.</p>
<p>Upon destruction of objects of this class, all T objects that correspond to threads that have accessed this object are destroyed. Note that this may be before the time when a thread is terminated.</p>
<h3>Access</h3>
<p>The T object stored by this object can be accessed using the <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> function. It provides a reference to a unique object when accessed from different threads. Objects of type T are created lazily, i.e. they are only created whenever a thread actually calls <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a>. </p>

<p class="definition">Definition at line <a class="el" href="thread__local__storage_8h_source.html#l00101">101</a> of file <a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6a2959fea1248c93d2853b0056ed3a0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2959fea1248c93d2853b0056ed3a0c">&#9670;&nbsp;</a></span>ThreadLocalStorage() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor. Initialize each thread local object using its default constructor. </p>

</div>
</div>
<a id="a551a0ed24c5677e7d19e39f8831c38bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551a0ed24c5677e7d19e39f8831c38bf">&#9670;&nbsp;</a></span>ThreadLocalStorage() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy constructor. </p>

</div>
</div>
<a id="afaff67acb91859c98ecc129f10315d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaff67acb91859c98ecc129f10315d9f">&#9670;&nbsp;</a></span>ThreadLocalStorage() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move constructor. The constructor moves all internal data structures from the argument. </p>

</div>
</div>
<a id="a5ab124d958464c60b8ace2827547e388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab124d958464c60b8ace2827547e388">&#9670;&nbsp;</a></span>ThreadLocalStorage() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A kind of copy constructor. Initializes an internal exemplar by the given object. The exemplar is in turn used to initialize each thread local object instead of invoking the default constructor. </p>

</div>
</div>
<a id="ae627e2a0659eb5f751589c07ddd49d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae627e2a0659eb5f751589c07ddd49d4a">&#9670;&nbsp;</a></span>ThreadLocalStorage() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::<a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a> </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A kind of move constructor. Moves the given object into an internal exemplar. The exemplar is in turn used to initialize each thread local object instead of invoking the default constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aac03908f960edb905d3354286d76a03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac03908f960edb905d3354286d76a03d">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy assignment operator. </p>

</div>
</div>
<a id="a5e6ad04cd126f8f71d6bf3569ba47602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e6ad04cd126f8f71d6bf3569ba47602">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt; T &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move assignment operator. </p>

</div>
</div>
<a id="a559c730cfc9a6d00b330761ff10fc896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559c730cfc9a6d00b330761ff10fc896">&#9670;&nbsp;</a></span>get() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a reference to the data stored by this object for the current thread this function is called on.</p>
<p>Note that there is no member function <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> that is const and returns a const reference as one would expect. The reason is that if such a member function were called on a thread for which no thread-local object has been created yet, then one has to create such an object first which would certainly be a non-constant operation. If you need to call the <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> function for a member variable of a class from a const member function, then you need to declare the member variable <code>mutable</code> to allow such access. </p>

</div>
</div>
<a id="a3ef0dc92ea0ac606fc38fee6bbec2af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef0dc92ea0ac606fc38fee6bbec2af8">&#9670;&nbsp;</a></span>get() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>exists</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as above, except that <code>exists</code> is set to true if an element was already present for the current thread; false otherwise. </p>

</div>
</div>
<a id="a782e7db394fcf3190bbc4e3006f63891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782e7db394fcf3190bbc4e3006f63891">&#9670;&nbsp;</a></span>operator T&()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::operator T &amp; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Conversion operator that simply converts the thread-local object to the data type that it stores. This function is equivalent to calling the <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> member function; it's purpose is to make the TLS object look more like the object it is storing. </p>

</div>
</div>
<a id="a941a6b6e42ffec61c1d72b87f7348587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a941a6b6e42ffec61c1d72b87f7348587">&#9670;&nbsp;</a></span>operator=() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt;T&gt;&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the given argument into the storage space used to represent the current thread. Calling this function as <code>tls_data = object</code> is equivalent to calling <code>tls_data.get() = object</code>. The intent of this operator is to make the <a class="el" href="classThreads_1_1ThreadLocalStorage.html" title="A class that provides a separate storage location on each thread that accesses the object...">ThreadLocalStorage</a> object look more like the object it represents on the current thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The object to be copied into the storage space used for the current thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current object, after the changes have been made </dd></dl>

</div>
</div>
<a id="ab184688791b37d68bd9d0f4e657fffc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab184688791b37d68bd9d0f4e657fffc8">&#9670;&nbsp;</a></span>operator=() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classThreads_1_1ThreadLocalStorage.html">ThreadLocalStorage</a>&lt;T&gt;&amp; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the given argument into the storage space used to represent the current thread. Calling this function as <code>tls_data = object</code> is equivalent to calling <code>tls_data.get() = object</code>. The intent of this operator is to make the <a class="el" href="classThreads_1_1ThreadLocalStorage.html" title="A class that provides a separate storage location on each thread that accesses the object...">ThreadLocalStorage</a> object look more like the object it represents on the current thread. Move assignment operator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The object to be copied into the storage space used for the current thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current object, after the changes have been made </dd></dl>

</div>
</div>
<a id="a09bc8f706128e564b421fe8b53e23eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09bc8f706128e564b421fe8b53e23eda">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the thread-local objects stored for all threads that have created one with this object (i.e., that have called <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> at least once on this thread. This includes the current thread. If you call <a class="el" href="classThreads_1_1ThreadLocalStorage.html#a559c730cfc9a6d00b330761ff10fc896">get()</a> subsequently on this or any other thread, new objects will again be created.</p>
<p>If deal.II has been configured to not use multithreading, then this function does not do anything at all. Note that this of course has different semantics as in the multithreading context the objects are deleted and created again (possible by copying from a sample object, if the appropriate constructor of this class was called), whereas in the multithreaded context the object is simply not touched at all. At the same time, the purpose of this function is to release memory other threads may have allocated for their own thread local objects after which every use of this object will require some kind of initialization. This is necessary both in the multithreaded or non- multithreaded case. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a3e3e130352fe00139d9166e72ed78fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3e130352fe00139d9166e72ed78fbf">&#9670;&nbsp;</a></span>::LogStream</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class ::<a class="el" href="classLogStream.html">LogStream</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="thread__local__storage_8h_source.html#l00262">262</a> of file <a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a879f9ec57b058e8bbcf187102140d311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879f9ec57b058e8bbcf187102140d311">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::thread::id, T&gt; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The data element we store. </p>

<p class="definition">Definition at line <a class="el" href="thread__local__storage_8h_source.html#l00241">241</a> of file <a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a>.</p>

</div>
</div>
<a id="a9a240d9c583eb12f37b002c5abcf5394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a240d9c583eb12f37b002c5abcf5394">&#9670;&nbsp;</a></span>insertion_mutex</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_timed_mutex <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::insertion_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A mutex to guard insertion into the data object.</p>
<p>We use a std::shared_timed_mutex (or std::shared_mutex if available) here to be able to use std::unique_lock and std::shared_lock for a readers-writer lock (<a href="https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock">https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock</a>). </p>

<p class="definition">Definition at line <a class="el" href="thread__local__storage_8h_source.html#l00254">254</a> of file <a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a>.</p>

</div>
</div>
<a id="ad062d104981903e592cf037ef2490a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad062d104981903e592cf037ef2490a69">&#9670;&nbsp;</a></span>exemplar</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;const T&gt; <a class="el" href="classThreads_1_1ThreadLocalStorage.html">Threads::ThreadLocalStorage</a>&lt; T &gt;::exemplar</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An exemplar for creating a new (thread specific) copy. </p>

<p class="definition">Definition at line <a class="el" href="thread__local__storage_8h_source.html#l00260">260</a> of file <a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/deal.II/base/<a class="el" href="thread__local__storage_8h_source.html">thread_local_storage.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
