<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classPETScWrappers_1_1SolverBase.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: PETScWrappers::SolverBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePETScWrappers.html">PETScWrappers</a></li><li class="navelem"><a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classPETScWrappers_1_1SolverBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PETScWrappers::SolverBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__LAC.html">Linear algebra classes</a> &raquo; <a class="el" href="group__PETScWrappers.html">PETScWrappers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="petsc__solver_8h_source.html">deal.II/lac/petsc_solver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PETScWrappers::SolverBase:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classPETScWrappers_1_1SolverBase__inherit__graph.svg" width="484" height="662"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPETScWrappers_1_1SolverBase_1_1SolverData.html">SolverData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad8abf2cd55633333a0fd6d6553724958"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#ad8abf2cd55633333a0fd6d6553724958">SolverBase</a> (<a class="el" href="classSolverControl.html">SolverControl</a> &amp;cn, const <a class="el" href="classMPI__Comm.html">MPI_Comm</a> &amp;<a class="el" href="classPETScWrappers_1_1SolverBase.html#a903c1d4fad5547f29cf0c6262ee1dde9">mpi_communicator</a>)</td></tr>
<tr class="separator:ad8abf2cd55633333a0fd6d6553724958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d130ace38c3e6b4a831f140ce8178b8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a8d130ace38c3e6b4a831f140ce8178b8">~SolverBase</a> ()=default</td></tr>
<tr class="separator:a8d130ace38c3e6b4a831f140ce8178b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc375c07a38e1314a79c6a1093edb53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#abfc375c07a38e1314a79c6a1093edb53">solve</a> (const <a class="el" href="classPETScWrappers_1_1MatrixBase.html">MatrixBase</a> &amp;A, <a class="el" href="classPETScWrappers_1_1VectorBase.html">VectorBase</a> &amp;x, const <a class="el" href="classPETScWrappers_1_1VectorBase.html">VectorBase</a> &amp;b, const <a class="el" href="classPETScWrappers_1_1PreconditionBase.html">PreconditionBase</a> &amp;preconditioner)</td></tr>
<tr class="separator:abfc375c07a38e1314a79c6a1093edb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8724b9c6cc906bf5213c09f09dbd9a32"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a8724b9c6cc906bf5213c09f09dbd9a32">reset</a> ()</td></tr>
<tr class="separator:a8724b9c6cc906bf5213c09f09dbd9a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912ada8e128dc3a23f9e0c2dac87d51a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a912ada8e128dc3a23f9e0c2dac87d51a">set_prefix</a> (const std::string &amp;prefix)</td></tr>
<tr class="separator:a912ada8e128dc3a23f9e0c2dac87d51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271b791d8cb267ae211c56a0499385c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSolverControl.html">SolverControl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a271b791d8cb267ae211c56a0499385c4">control</a> () const</td></tr>
<tr class="separator:a271b791d8cb267ae211c56a0499385c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63996b94c34f0fcf590c725d4decc06f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a63996b94c34f0fcf590c725d4decc06f">initialize</a> (const <a class="el" href="classPETScWrappers_1_1PreconditionBase.html">PreconditionBase</a> &amp;preconditioner)</td></tr>
<tr class="separator:a63996b94c34f0fcf590c725d4decc06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a13eec5bf768040dffb3be81e04df71dd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a13eec5bf768040dffb3be81e04df71dd">set_solver_type</a> (KSP &amp;ksp) const =0</td></tr>
<tr class="separator:a13eec5bf768040dffb3be81e04df71dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a534eda9e7fd50e1691ddb37aeddffa9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSolverControl.html">SolverControl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a534eda9e7fd50e1691ddb37aeddffa9a">solver_control</a></td></tr>
<tr class="separator:a534eda9e7fd50e1691ddb37aeddffa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903c1d4fad5547f29cf0c6262ee1dde9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classMPI__Comm.html">MPI_Comm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a903c1d4fad5547f29cf0c6262ee1dde9">mpi_communicator</a></td></tr>
<tr class="separator:a903c1d4fad5547f29cf0c6262ee1dde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ac6145f0622bd94d797760cc358dfa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a19ac6145f0622bd94d797760cc358dfa">prefix_name</a></td></tr>
<tr class="separator:a19ac6145f0622bd94d797760cc358dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a71e97d3ad2075793e1f177f7128299b8"><td class="memItemLeft" align="right" valign="top">static PetscErrorCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a71e97d3ad2075793e1f177f7128299b8">convergence_test</a> (KSP ksp, const PetscInt iteration, const PetscReal residual_norm, KSPConvergedReason *reason, void *<a class="el" href="classPETScWrappers_1_1SolverBase.html#a534eda9e7fd50e1691ddb37aeddffa9a">solver_control</a>)</td></tr>
<tr class="separator:a71e97d3ad2075793e1f177f7128299b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad0d2eaa1bec5bf2738f02bc93d9eb5ef"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structPETScWrappers_1_1SolverBase_1_1SolverData.html">SolverData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#ad0d2eaa1bec5bf2738f02bc93d9eb5ef">solver_data</a></td></tr>
<tr class="separator:ad0d2eaa1bec5bf2738f02bc93d9eb5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0585a6a05da80d8568459b1d87babee1"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPETScWrappers_1_1SolverBase.html#a0585a6a05da80d8568459b1d87babee1">SLEPcWrappers::TransformationBase</a></td></tr>
<tr class="separator:a0585a6a05da80d8568459b1d87babee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for solver classes using the PETSc solvers. Since solvers in PETSc are selected based on flags passed to a generic solver object, basically all the actual solver calls happen in this class, and derived classes simply set the right flags to select one solver or another, or to set certain parameters for individual solvers.</p>
<p>Optionally, the user can create a solver derived from the <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a> class and can set the default arguments necessary to solve the linear system of equations with <a class="el" href="classSolverControl.html">SolverControl</a>. These default options can be overridden by specifying command line arguments of the form <code>-ksp_*</code>. For example, <code>-ksp_monitor_true_residual</code> prints out true residual norm (unpreconditioned) at each iteration and <code>-ksp_view</code> provides information about the linear solver and the preconditioner used in the current context. The type of the solver can also be changed during runtime by specifying <code>-ksp_type</code> {richardson, cg, gmres, fgmres, ..} to dynamically test the optimal solver along with a suitable preconditioner set using <code>-pc_type</code> {jacobi, bjacobi, ilu, lu, ..}. There are several other command line options available to modify the behavior of the PETSc linear solver and can be obtained from the <a href="http://www.mcs.anl.gov/petsc">documentation and manual pages</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Repeated calls to <a class="el" href="classPETScWrappers_1_1SolverBase.html#abfc375c07a38e1314a79c6a1093edb53">solve()</a> on a solver object with a Preconditioner must be used with care. The preconditioner is initialized in the first call to <a class="el" href="classPETScWrappers_1_1SolverBase.html#abfc375c07a38e1314a79c6a1093edb53">solve()</a> and subsequent calls reuse the solver and preconditioner object. This is done for performance reasons. The solver and preconditioner can be reset by calling <a class="el" href="classPETScWrappers_1_1SolverBase.html#a8724b9c6cc906bf5213c09f09dbd9a32">reset()</a>.</dd></dl>
<p>One of the gotchas of PETSc is that &ndash; in particular in <a class="el" href="namespacePETScWrappers_1_1MPI.html">MPI</a> mode &ndash; it often does not produce very helpful error messages. In order to save other users some time in searching a hard to track down error, here is one situation and the error message one gets there: when you don't specify an <a class="el" href="namespacePETScWrappers_1_1MPI.html">MPI</a> communicator to your solver's constructor. In this case, you will get an error of the following form from each of your parallel processes: </p><pre class="fragment">*   [1]PETSC ERROR: PCSetVector() line 1173 in src/ksp/pc/interface/precon.c
*   [1]PETSC ERROR:   Arguments must have same communicators!
*   [1]PETSC ERROR:   Different communicators in the two objects: Argument #
* 1 and 2! [1]PETSC ERROR: KSPSetUp() line 195 in
* src/ksp/ksp/interface/itfunc.c
* </pre><p>This error, on which one can spend a very long time figuring out what exactly goes wrong, results from not specifying an <a class="el" href="namespacePETScWrappers_1_1MPI.html">MPI</a> communicator. Note that the communicator <em>must</em> match that of the matrix and all vectors in the linear system which we want to solve. Aggravating the situation is the fact that the default argument to the solver classes, <code>PETSC_COMM_SELF</code>, is the appropriate argument for the sequential case (which is why it is the default argument), so this error only shows up in parallel mode. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00112">112</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad8abf2cd55633333a0fd6d6553724958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8abf2cd55633333a0fd6d6553724958">&#9670;&nbsp;</a></span>SolverBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::<a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSolverControl.html">SolverControl</a> &amp;&#160;</td>
          <td class="paramname"><em>cn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMPI__Comm.html">MPI_Comm</a> &amp;&#160;</td>
          <td class="paramname"><em>mpi_communicator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. Takes the solver control object and the <a class="el" href="namespacePETScWrappers_1_1MPI.html">MPI</a> communicator over which parallel computations are to happen.</p>
<p>Note that the communicator used here must match the communicator used in the system matrix, solution, and right hand side object of the solve to be done with this solver. Otherwise, PETSc will generate hard to track down errors, see the documentation of the <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a> class. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00045">45</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a8d130ace38c3e6b4a831f140ce8178b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d130ace38c3e6b4a831f140ce8178b8">&#9670;&nbsp;</a></span>~SolverBase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual PETScWrappers::SolverBase::~SolverBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abfc375c07a38e1314a79c6a1093edb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc375c07a38e1314a79c6a1093edb53">&#9670;&nbsp;</a></span>solve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPETScWrappers_1_1MatrixBase.html">MatrixBase</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPETScWrappers_1_1VectorBase.html">VectorBase</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPETScWrappers_1_1VectorBase.html">VectorBase</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPETScWrappers_1_1PreconditionBase.html">PreconditionBase</a> &amp;&#160;</td>
          <td class="paramname"><em>preconditioner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve the linear system <code>Ax=b</code>. Depending on the information provided by derived classes and the object passed as a preconditioner, one of the linear solvers and preconditioners of PETSc is chosen. Repeated calls to <a class="el" href="classPETScWrappers_1_1SolverBase.html#abfc375c07a38e1314a79c6a1093edb53">solve()</a> do not reconstruct the preconditioner for performance reasons. See class Documentation. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00053">53</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a8724b9c6cc906bf5213c09f09dbd9a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8724b9c6cc906bf5213c09f09dbd9a32">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets the contained preconditioner and solver object. See class description for more details. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00161">161</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a912ada8e128dc3a23f9e0c2dac87d51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912ada8e128dc3a23f9e0c2dac87d51a">&#9670;&nbsp;</a></span>set_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::set_prefix </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a prefix name for the solver object. Useful when customizing the PETSc KSP object with command-line options. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00154">154</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a271b791d8cb267ae211c56a0499385c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271b791d8cb267ae211c56a0499385c4">&#9670;&nbsp;</a></span>control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSolverControl.html">SolverControl</a> &amp; <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::control </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access to object that controls convergence. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00168">168</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a63996b94c34f0fcf590c725d4decc06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63996b94c34f0fcf590c725d4decc06f">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPETScWrappers_1_1PreconditionBase.html">PreconditionBase</a> &amp;&#160;</td>
          <td class="paramname"><em>preconditioner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initialize the solver with the preconditioner. This function is intended for use with SLEPc spectral transformation class. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00213">213</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<a id="a13eec5bf768040dffb3be81e04df71dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13eec5bf768040dffb3be81e04df71dd">&#9670;&nbsp;</a></span>set_solver_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PETScWrappers::SolverBase::set_solver_type </td>
          <td>(</td>
          <td class="paramtype">KSP &amp;&#160;</td>
          <td class="paramname"><em>ksp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function that takes a Krylov Subspace Solver context object, and sets the type of solver that is requested by the derived class. </p>

<p>Implemented in <a class="el" href="classPETScWrappers_1_1SparseDirectMUMPS.html#a11450efb60c23f89b1467deb4efd8a61">PETScWrappers::SparseDirectMUMPS</a>, <a class="el" href="classPETScWrappers_1_1SolverPreOnly.html#acb09d6c22c20e52b65ec87caae8cbace">PETScWrappers::SolverPreOnly</a>, <a class="el" href="classPETScWrappers_1_1SolverLSQR.html#a14a9909be0b71d5047cd9569136a915e">PETScWrappers::SolverLSQR</a>, <a class="el" href="classPETScWrappers_1_1SolverCR.html#a24dbd85ed98ac21a0391c54663cf9deb">PETScWrappers::SolverCR</a>, <a class="el" href="classPETScWrappers_1_1SolverTCQMR.html#a897b6471eb71a5e758723de0d2e9f07b">PETScWrappers::SolverTCQMR</a>, <a class="el" href="classPETScWrappers_1_1SolverTFQMR.html#a46f7615be6a43c00dc69df74061d3e5f">PETScWrappers::SolverTFQMR</a>, <a class="el" href="classPETScWrappers_1_1SolverCGS.html#a868cb10d96fc427b89679b9a4c369558">PETScWrappers::SolverCGS</a>, <a class="el" href="classPETScWrappers_1_1SolverBicgstab.html#a8e3b0b24309b6477b5a68f99292221eb">PETScWrappers::SolverBicgstab</a>, <a class="el" href="classPETScWrappers_1_1SolverGMRES.html#abf64e01b6a4c50a5702ab31911aa2e7b">PETScWrappers::SolverGMRES</a>, <a class="el" href="classPETScWrappers_1_1SolverBiCG.html#a462c9fc09e84dc40e64b0c44f4bc22c1">PETScWrappers::SolverBiCG</a>, <a class="el" href="classPETScWrappers_1_1SolverCG.html#ad121c05be905cfef7aa562fac1af0cfd">PETScWrappers::SolverCG</a>, <a class="el" href="classPETScWrappers_1_1SolverChebychev.html#a1db7856395fc62644b0564fb6c86e212">PETScWrappers::SolverChebychev</a>, and <a class="el" href="classPETScWrappers_1_1SolverRichardson.html#a81d743e8bb544846339b1757711d4add">PETScWrappers::SolverRichardson</a>.</p>

</div>
</div>
<a id="a71e97d3ad2075793e1f177f7128299b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e97d3ad2075793e1f177f7128299b8">&#9670;&nbsp;</a></span>convergence_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> <a class="el" href="classPETScWrappers_1_1SolverBase.html">SolverBase</a>&lt; <a class="el" href="classVectorType.html">VectorType</a> &gt;::convergence_test </td>
          <td>(</td>
          <td class="paramtype">KSP&#160;</td>
          <td class="paramname"><em>ksp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PetscInt&#160;</td>
          <td class="paramname"><em>iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PetscReal&#160;</td>
          <td class="paramname"><em>residual_norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KSPConvergedReason *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>solver_control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A function that is used in PETSc as a callback to check on convergence. It takes the information provided from PETSc and checks it against deal.II's own <a class="el" href="classSolverControl.html">SolverControl</a> objects to see if convergence has been reached. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8cc_source.html#l00175">175</a> of file <a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a0585a6a05da80d8568459b1d87babee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0585a6a05da80d8568459b1d87babee1">&#9670;&nbsp;</a></span>SLEPcWrappers::TransformationBase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classSLEPcWrappers_1_1TransformationBase.html">SLEPcWrappers::TransformationBase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00256">256</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a534eda9e7fd50e1691ddb37aeddffa9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534eda9e7fd50e1691ddb37aeddffa9a">&#9670;&nbsp;</a></span>solver_control</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSolverControl.html">SolverControl</a>&amp; PETScWrappers::SolverBase::solver_control</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reference to the object that controls convergence of the iterative solver. In fact, for these PETSc wrappers, PETSc does so itself, but we copy the data from this object before starting the solution process, and copy the data back into it afterwards. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00181">181</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>

</div>
</div>
<a id="a903c1d4fad5547f29cf0c6262ee1dde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903c1d4fad5547f29cf0c6262ee1dde9">&#9670;&nbsp;</a></span>mpi_communicator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classMPI__Comm.html">MPI_Comm</a> PETScWrappers::SolverBase::mpi_communicator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy of the <a class="el" href="namespacePETScWrappers_1_1MPI.html">MPI</a> communicator object to be used for the solver. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00186">186</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>

</div>
</div>
<a id="a19ac6145f0622bd94d797760cc358dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ac6145f0622bd94d797760cc358dfa">&#9670;&nbsp;</a></span>prefix_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string PETScWrappers::SolverBase::prefix_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Solver prefix name to qualify options specific to the PETSc KSP object in the current context. Note: A hyphen (-) must NOT be given at the beginning of the prefix name. The first character of all runtime options is AUTOMATICALLY the hyphen. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00201">201</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>

</div>
</div>
<a id="ad0d2eaa1bec5bf2738f02bc93d9eb5ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d2eaa1bec5bf2738f02bc93d9eb5ef">&#9670;&nbsp;</a></span>solver_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structPETScWrappers_1_1SolverBase_1_1SolverData.html">SolverData</a>&gt; PETScWrappers::SolverBase::solver_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pointer to an object that stores the solver context. This is recreated in the main solver routine if necessary. </p>

<p class="definition">Definition at line <a class="el" href="petsc__solver_8h_source.html#l00251">251</a> of file <a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/deal.II/lac/<a class="el" href="petsc__solver_8h_source.html">petsc_solver.h</a></li>
<li>source/lac/<a class="el" href="petsc__solver_8cc_source.html">petsc_solver.cc</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
