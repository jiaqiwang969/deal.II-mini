<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classparallel_1_1CellWeights.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: parallel::CellWeights&lt; dim, spacedim &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceparallel.html">parallel</a></li><li class="navelem"><a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classparallel_1_1CellWeights-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parallel::CellWeights&lt; dim, spacedim &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__Parallel.html">Parallel computing</a> &raquo; <a class="el" href="group__distributed.html">Parallel computing with multiple processors using</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cell__weights_8h_source.html">deal.II/distributed/cell_weights.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a802050ef84a321ad53ace8758367be5b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> = std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt;::cell_iterator &amp;, const <a class="el" href="classFiniteElement.html">FiniteElement</a>&lt; dim, spacedim &gt; &amp;)&gt;</td></tr>
<tr class="separator:a802050ef84a321ad53ace8758367be5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96f1ee978c41cb19e0a4a1d59ba0ddab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a96f1ee978c41cb19e0a4a1d59ba0ddab">CellWeights</a> (const ::<a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:a96f1ee978c41cb19e0a4a1d59ba0ddab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061070d393ad32d241ad7352be697975"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a061070d393ad32d241ad7352be697975">~CellWeights</a> ()</td></tr>
<tr class="separator:a061070d393ad32d241ad7352be697975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba125d0e49b21f8b392ff1eb9cfdb21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">reinit</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:aaba125d0e49b21f8b392ff1eb9cfdb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a639e0ff5806c0013312a59d42366db0e"><td class="memItemLeft" align="right" valign="top">static std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;cell, const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus status)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a639e0ff5806c0013312a59d42366db0e">make_weighting_callback</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:a639e0ff5806c0013312a59d42366db0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">选择加权函数</div></td></tr>
<tr class="memitem:a79898055fe6a1d347f361cac223d915e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a79898055fe6a1d347f361cac223d915e">constant_weighting</a> (const unsigned <a class="el" href="classint.html">int</a> factor=1000)</td></tr>
<tr class="separator:a79898055fe6a1d347f361cac223d915e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933329cf29deef345ebc51ed761c7152"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a933329cf29deef345ebc51ed761c7152">ndofs_weighting</a> (const std::pair&lt; float, float &gt; &amp;coefficients)</td></tr>
<tr class="separator:a933329cf29deef345ebc51ed761c7152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83139224c42deb250c63409d2d6d38d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#ae83139224c42deb250c63409d2d6d38d">ndofs_weighting</a> (const std::vector&lt; std::pair&lt; float, float &gt;&gt; &amp;coefficients)</td></tr>
<tr class="separator:ae83139224c42deb250c63409d2d6d38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a4de7a45eaa8b002363560c51df7f68eb"><td class="memItemLeft" align="right" valign="top">static unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a4de7a45eaa8b002363560c51df7f68eb">weighting_callback</a> (const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;cell, const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus status, const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>&lt; dim, spacedim &gt; &amp;<a class="el" href="p4est__wrappers_8cc.html#ace00f2f80d9780ef9aa1007e1c22c6a4">triangulation</a>, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:a4de7a45eaa8b002363560c51df7f68eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad23b91e965c5bc078e9fbd06ae8087c3"><td class="memItemLeft" align="right" valign="top">boost::signals2::connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#ad23b91e965c5bc078e9fbd06ae8087c3">connection</a></td></tr>
<tr class="separator:ad23b91e965c5bc078e9fbd06ae8087c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int dim, int spacedim = dim&gt;<br />
class parallel::CellWeights&lt; dim, spacedim &gt;</h3>

<p>任何时候 <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a> 被重新分区，不管是根据要求还是通过细化/粗化，单元格将被分配到所有子域中，以达到平等的平衡工作量。如果每个单元的工作量不同，对于具有hp-capabilities的DoFHandler对象来说通常是这样的，我们可以通过为不同的单元引入单独的权重来考虑到这一点。 这个类允许通过查询与DoFHandler的每个单元相关联的FiniteElement来计算这些用于负载平衡的权重。人们可以从该类提供的预定义权重算法中选择，也可以提供一个自定义的算法。 如果相关的DoFHandler还没有被初始化，即它的 <a class="el" href="classhp_1_1FECollection.html">hp::FECollection</a> 是空的，所有单元的权重将被评估为零。 该类提供了两种不同的方式来连接所选择的加权函数和链接的 <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>. 的相应信号。推荐的方式包括创建一个该类的对象，该对象将在创建时自动负责注册加权函数，并在销毁时取消其注册。为了达到令人满意的工作平衡结果，每个与我们工作的三角形相关的DoFHandler都需要存在这个类的一个对象。 连接的加权函数可以使用 <a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">CellWeights::reinit()</a> 函数随时改变。下面的代码片断演示了如何实现每个单元按其当前自由度数加权。我们选择了一个<code>1000</code>的系数，对应于每个单元在创建时被分配到的初始权重。 </p><div class="fragment"><div class="line"><a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;</a> cell_weights(</div><div class="line">hp_dof_handler,</div><div class="line"><a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::ndofs_weighting</a>({1000, 1}));</div></div><!-- fragment --><p> 另一方面，你也能够通过使用这个类的静态成员函数来手动处理信号连接。在这种情况下，一个类似的代码例子看起来如下。 </p><div class="fragment"><div class="line">boost::signals2::connection <a class="code" href="classparallel_1_1CellWeights.html#ad23b91e965c5bc078e9fbd06ae8087c3">connection</a> =</div><div class="line">hp_dof_handler.get_triangulation().signals.cell_weight.connect(</div><div class="line">  <a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::make_weighting_callback</a>(</div><div class="line">    hp_dof_handler,</div><div class="line">    <a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::ndofs_weighting</a>(</div><div class="line">      {1000, 1}));</div></div><!-- fragment --><p> 这个类的使用在 <a class="el" href="step_75.html">step-75</a> 中演示。 </p><dl class="section note"><dt>Note</dt><dd>参见 <a class="el" href="structTriangulation_1_1Signals.html#af58294e40c64257c9de55e78b6443e36">Triangulation::Signals::cell_weight</a> ，了解更多关于加权和负载平衡的信息。 </dd>
<dd>
注意这个类在这个类的构造函数中把权重函数连接到Triangulation。如果与DoFHandler相关的Triangulation在后者的生命周期内通过 <a class="el" href="classDoFHandler.html#a84b803d7c74ab87a3eb2e1367611246b">DoFHandler::reinit()</a>, 发生变化，将在weight_callback()函数中触发断言。使用 <a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">CellWeights::reinit()</a> 取消对旧三角函数的注册，并将其连接到新的三角函数。 </dd></dl>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00069">69</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a802050ef84a321ad53ace8758367be5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802050ef84a321ad53ace8758367be5b">&#9670;&nbsp;</a></span>WeightingFunction</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> =  std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt;dim, spacedim&gt;::cell_iterator &amp;, const <a class="el" href="classFiniteElement.html">FiniteElement</a>&lt;dim, spacedim&gt; &amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>一个别名，它定义了一个函数的特性，可以在负载平衡期间用于加权单元。 这种加权函数的参数是一个单元的迭代器和重新分区后将分配给它的未来有限元。 它们返回一个无符号整数，被解释为单元的权重，或者说，与之相关的额外计算负荷。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00080">80</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96f1ee978c41cb19e0a4a1d59ba0ddab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f1ee978c41cb19e0a4a1d59ba0ddab">&#9670;&nbsp;</a></span>CellWeights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a> </td>
          <td>(</td>
          <td class="paramtype">const ::<a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>构造函数。 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dof_handler</td><td>将被用于确定每个单元的有限元的DoFHandler。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">weighting_function</td><td>在负载平衡期间确定每个单元重量的函数。 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00028">28</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="a061070d393ad32d241ad7352be697975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061070d393ad32d241ad7352be697975">&#9670;&nbsp;</a></span>~CellWeights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::~<a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>解构器。 断开之前连接到权重信号的函数。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00038">38</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaba125d0e49b21f8b392ff1eb9cfdb21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba125d0e49b21f8b392ff1eb9cfdb21">&#9670;&nbsp;</a></span>reinit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::reinit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>将不同的 <code>weighting_function</code> 连接到与 <code>dof_handler</code>. 相关的三角图上 断开先前连接到加权信号的函数。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00047">47</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="a639e0ff5806c0013312a59d42366db0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639e0ff5806c0013312a59d42366db0e">&#9670;&nbsp;</a></span>make_weighting_callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename::Triangulation&lt; dim, spacedim &gt;::cell_iterator &amp;cell, const typename::Triangulation&lt; dim, spacedim &gt;::CellStatus status)&gt; <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::make_weighting_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>将 <code>weighting_function</code> 转换为符合回调函数条件的不同类型，可以连接到Triangulation的加权信号。 这个函数确实<b>not</b>将转换后的函数连接到与 <code>dof_handler</code>. 相关的Triangulation。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00131">131</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="a79898055fe6a1d347f361cac223d915e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79898055fe6a1d347f361cac223d915e">&#9670;&nbsp;</a></span>constant_weighting()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::constant_weighting </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>factor</em> = <code>1000</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>在每个单元格上选择一个常数权重 <code>factor</code> 。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00065">65</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="a933329cf29deef345ebc51ed761c7152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933329cf29deef345ebc51ed761c7152">&#9670;&nbsp;</a></span>ndofs_weighting() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::ndofs_weighting </td>
          <td>(</td>
          <td class="paramtype">const std::pair&lt; float, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>coefficients</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>通过 <code>coefficients</code> 提供的一对浮点数 \((a,b)\) 以下列方式确定每个具有 \(n_K\) 自由度的单元 \(K\) 的权重。 </p><p class="formulaDsp">
\[ w_K = a \, n_K^b \]
</p>
<p>由于要求细胞权重为整数，所以右边将被四舍五入为最接近的整数。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00077">77</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="ae83139224c42deb250c63409d2d6d38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83139224c42deb250c63409d2d6d38d">&#9670;&nbsp;</a></span>ndofs_weighting() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::ndofs_weighting </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; float, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>coefficients</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>容器 <code>coefficients</code> 提供了成对的浮点数 \((a_i, b_i)\) ，它们以下列方式确定每个具有 \(n_K\) 自由度的单元 \(K\) 的权重 \(w_K\) 。 </p><p class="formulaDsp">
\[ w_K = \sum_i a_i \, n_K^{b_i} \]
</p>
<p>由于要求单元格权重为整数，所以右手边将被四舍五入为最近的整数。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00101">101</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<a id="a4de7a45eaa8b002363560c51df7f68eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de7a45eaa8b002363560c51df7f68eb">&#9670;&nbsp;</a></span>weighting_callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::weighting_callback </td>
          <td>(</td>
          <td class="paramtype">const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>一个回调函数，它将连接到 <code>triangulation</code>, 的cell_weight信号， <code>dof_handler</code> 被连接到该信号。最终返回每个单元的重量，由作为参数提供的 <code>weighting_function</code> 决定。如果 <code>dof_handler</code> 还没有被初始化，则返回0。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8cc_source.html#l00164">164</a> of file <a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad23b91e965c5bc078e9fbd06ae8087c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23b91e965c5bc078e9fbd06ae8087c3">&#9670;&nbsp;</a></span>connection</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::signals2::connection <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>与连接到DoFHandler的Triangulation的相应cell_weight信号的连接。 </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00163">163</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/deal.II/distributed/<a class="el" href="cell__weights_8h_source.html">cell_weights.h</a></li>
<li>source/distributed/<a class="el" href="cell__weights_8cc_source.html">cell_weights.cc</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
