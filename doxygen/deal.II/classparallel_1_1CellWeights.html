<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://www.dealii.org/current/doxygen/deal.II/classparallel_1_1CellWeights.html" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The deal.II Library: parallel::CellWeights&lt; dim, spacedim &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="deal.ico"></link>
<script type="text/javascript" src="custom.js"></script>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2021 by the deal.II authors"></meta>
<meta name="deal.II-version" content="10.0.0-pre"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 10.0.0-pre</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!--Extra macros for MathJax:-->
<div style="display:none">
\(\newcommand{\dealvcentcolon}{\mathrel{\mathop{:}}}\)
\(\newcommand{\dealcoloneq}{\dealvcentcolon\mathrel{\mkern-1.2mu}=}\)
\(\newcommand{\jump}[1]{\left[\!\left[ #1 \right]\!\right]}\)
\(\newcommand{\average}[1]{\left\{\!\left\{ #1 \right\}\!\right\}}\)
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceparallel.html">parallel</a></li><li class="navelem"><a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classparallel_1_1CellWeights-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parallel::CellWeights&lt; dim, spacedim &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__Parallel.html">Parallel computing</a> &raquo; <a class="el" href="group__distributed.html">Parallel computing with multiple processors using distributed memory</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cell__weights_8h_source.html">deal.II/distributed/cell_weights.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a802050ef84a321ad53ace8758367be5b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> = std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt;::cell_iterator &amp;, const <a class="el" href="classFiniteElement.html">FiniteElement</a>&lt; dim, spacedim &gt; &amp;)&gt;</td></tr>
<tr class="separator:a802050ef84a321ad53ace8758367be5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96f1ee978c41cb19e0a4a1d59ba0ddab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a96f1ee978c41cb19e0a4a1d59ba0ddab">CellWeights</a> (const ::<a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:a96f1ee978c41cb19e0a4a1d59ba0ddab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061070d393ad32d241ad7352be697975"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a061070d393ad32d241ad7352be697975">~CellWeights</a> ()</td></tr>
<tr class="separator:a061070d393ad32d241ad7352be697975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba125d0e49b21f8b392ff1eb9cfdb21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">reinit</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:aaba125d0e49b21f8b392ff1eb9cfdb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a085dfb18360e386d88934950693d070d"><td class="memItemLeft" align="right" valign="top">static std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;cell, const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus status)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a085dfb18360e386d88934950693d070d">make_weighting_callback</a> (const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:a085dfb18360e386d88934950693d070d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Selection of weighting functions</div></td></tr>
<tr class="memitem:a0bb53fa03d72ef567fb475f8ae19a6bd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a0bb53fa03d72ef567fb475f8ae19a6bd">constant_weighting</a> (const unsigned <a class="el" href="classint.html">int</a> factor=1000)</td></tr>
<tr class="separator:a0bb53fa03d72ef567fb475f8ae19a6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c1dbd6a453e93af1718cc28eee6a90"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a15c1dbd6a453e93af1718cc28eee6a90">ndofs_weighting</a> (const std::pair&lt; float, float &gt; &amp;coefficients)</td></tr>
<tr class="separator:a15c1dbd6a453e93af1718cc28eee6a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c85bd5fbacd77d50b432fb61510368"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#a67c85bd5fbacd77d50b432fb61510368">ndofs_weighting</a> (const std::vector&lt; std::pair&lt; float, float &gt;&gt; &amp;coefficients)</td></tr>
<tr class="separator:a67c85bd5fbacd77d50b432fb61510368"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aafda2bba3d8a8a33e4b6bf4789882f62"><td class="memItemLeft" align="right" valign="top">static unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#aafda2bba3d8a8a33e4b6bf4789882f62">weighting_callback</a> (const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;cell, const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus status, const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;dof_handler, const <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>&lt; dim, spacedim &gt; &amp;triangulation, const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;weighting_function)</td></tr>
<tr class="separator:aafda2bba3d8a8a33e4b6bf4789882f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad23b91e965c5bc078e9fbd06ae8087c3"><td class="memItemLeft" align="right" valign="top">boost::signals2::connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparallel_1_1CellWeights.html#ad23b91e965c5bc078e9fbd06ae8087c3">connection</a></td></tr>
<tr class="separator:ad23b91e965c5bc078e9fbd06ae8087c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int dim, int spacedim = dim&gt;<br />
class parallel::CellWeights&lt; dim, spacedim &gt;</h3>

<p>Anytime a <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a> is repartitioned, either upon request or by refinement/coarsening, cells will be distributed amongst all subdomains to achieve an equally balanced workload. If the workload per cell varies, which is in general the case for <a class="el" href="classDoFHandler.html">DoFHandler</a> objects with hp-capabilities, we can take that into account by introducing individual weights for different cells.</p>
<p>This class allows computing these weights for load balancing by consulting the <a class="el" href="classFiniteElement.html">FiniteElement</a> that is associated with each cell of a <a class="el" href="classDoFHandler.html">DoFHandler</a>. One can choose from predefined weighting algorithms provided by this class or provide a custom one.</p>
<p>If the associated <a class="el" href="classDoFHandler.html">DoFHandler</a> has not been initialized yet, i.e., its <a class="el" href="classhp_1_1FECollection.html">hp::FECollection</a> is empty, all cell weights will be evaluated as zero.</p>
<p>This class offers two different ways of connecting the chosen weighting function to the corresponding signal of the linked <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>. The recommended way involves creating an object of this class which will automatically take care of registering the weighting function upon creation and de-registering it once destroyed. An object of this class needs to exist for every <a class="el" href="classDoFHandler.html">DoFHandler</a> associated with the <a class="el" href="classTriangulation.html">Triangulation</a> we work on to achieve satisfying work balancing results. The connected weighting function may be changed anytime using the <a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">CellWeights::reinit()</a> function. The following code snippet demonstrates how to achieve each cell being weighted by its current number of degrees of freedom. We chose a factor of <code>1000</code> that corresponds to the initial weight each cell is assigned to upon creation. </p><div class="fragment"><div class="line"><a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;</a> cell_weights(</div><div class="line">  hp_dof_handler,</div><div class="line">  <a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::ndofs_weighting</a>({1000, 1}));</div></div><!-- fragment --><p>On the other hand, you are also able to take care of handling the signal connection manually by using the static member function of this class. In this case, an analogous code example looks as follows. </p><div class="fragment"><div class="line">boost::signals2::connection <a class="code" href="classparallel_1_1CellWeights.html#ad23b91e965c5bc078e9fbd06ae8087c3">connection</a> =</div><div class="line">  hp_dof_handler.get_triangulation().signals.cell_weight.connect(</div><div class="line">    <a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::make_weighting_callback</a>(</div><div class="line">      hp_dof_handler,</div><div class="line">      <a class="code" href="classparallel_1_1CellWeights.html">parallel::CellWeights&lt;dim, spacedim&gt;::ndofs_weighting</a>(</div><div class="line">        {1000, 1}));</div></div><!-- fragment --><p>The use of this class is demonstrated in step-75.</p>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="structTriangulation_1_1Signals.html#af58294e40c64257c9de55e78b6443e36">Triangulation::Signals::cell_weight</a> for more information on weighting and load balancing.</dd>
<dd>
Be aware that this class connects the weight function to the <a class="el" href="classTriangulation.html">Triangulation</a> during this class's constructor. If the <a class="el" href="classTriangulation.html">Triangulation</a> associated with the <a class="el" href="classDoFHandler.html">DoFHandler</a> changes during the lifetime of the latter via <a class="el" href="classDoFHandler.html#a84b803d7c74ab87a3eb2e1367611246b">DoFHandler::reinit()</a>, an assertion will be triggered in the weight_callback() function. Use <a class="el" href="classparallel_1_1CellWeights.html#aaba125d0e49b21f8b392ff1eb9cfdb21">CellWeights::reinit()</a> to deregister the weighting function on the old <a class="el" href="classTriangulation.html">Triangulation</a> and connect it to the new one. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00091">91</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a802050ef84a321ad53ace8758367be5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802050ef84a321ad53ace8758367be5b">&#9670;&nbsp;</a></span>WeightingFunction</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> =  std::function&lt; unsigned <a class="el" href="classint.html">int</a>(const typename <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt;dim, spacedim&gt;::cell_iterator &amp;, const <a class="el" href="classFiniteElement.html">FiniteElement</a>&lt;dim, spacedim&gt; &amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An alias that defines the characteristics of a function that can be used for weighting cells during load balancing.</p>
<p>Such weighting functions take as arguments an iterator to a cell and the future finite element that will be assigned to it after repartitioning. They return an unsigned integer which is interpreted as the cell's weight or, in other words, the additional computational load associated with it. </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00106">106</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96f1ee978c41cb19e0a4a1d59ba0ddab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f1ee978c41cb19e0a4a1d59ba0ddab">&#9670;&nbsp;</a></span>CellWeights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::<a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a> </td>
          <td>(</td>
          <td class="paramtype">const ::<a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dof_handler</td><td>The <a class="el" href="classDoFHandler.html">DoFHandler</a> which will be used to determine each cell's finite element. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">weighting_function</td><td>The function that determines each cell's weight during load balancing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a061070d393ad32d241ad7352be697975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061070d393ad32d241ad7352be697975">&#9670;&nbsp;</a></span>~CellWeights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::~<a class="el" href="classparallel_1_1CellWeights.html">CellWeights</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor.</p>
<p>Disconnects the function previously connected to the weighting signal. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaba125d0e49b21f8b392ff1eb9cfdb21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba125d0e49b21f8b392ff1eb9cfdb21">&#9670;&nbsp;</a></span>reinit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::reinit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect a different <code>weighting_function</code> to the <a class="el" href="classTriangulation.html">Triangulation</a> associated with the <code>dof_handler</code>.</p>
<p>Disconnects the function previously connected to the weighting signal. </p>

</div>
</div>
<a id="a085dfb18360e386d88934950693d070d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085dfb18360e386d88934950693d070d">&#9670;&nbsp;</a></span>make_weighting_callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::function&lt;unsigned <a class="el" href="classint.html">int</a>( const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt;dim, spacedim&gt;::cell_iterator &amp;cell, const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt;dim, spacedim&gt;::CellStatus status)&gt; <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::make_weighting_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts a <code>weighting_function</code> to a different type that qualifies as a callback function, which can be connected to a weighting signal of a <a class="el" href="classTriangulation.html">Triangulation</a>.</p>
<p>This function does <b>not</b> connect the converted function to the <a class="el" href="classTriangulation.html">Triangulation</a> associated with the <code>dof_handler</code>. </p>

</div>
</div>
<a id="a0bb53fa03d72ef567fb475f8ae19a6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb53fa03d72ef567fb475f8ae19a6bd">&#9670;&nbsp;</a></span>constant_weighting()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::constant_weighting </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>factor</em> = <code>1000</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Choose a constant weight <code>factor</code> on each cell. </p>

</div>
</div>
<a id="a15c1dbd6a453e93af1718cc28eee6a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c1dbd6a453e93af1718cc28eee6a90">&#9670;&nbsp;</a></span>ndofs_weighting() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::ndofs_weighting </td>
          <td>(</td>
          <td class="paramtype">const std::pair&lt; float, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>coefficients</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The pair of floating point numbers \((a,b)\) provided via <code>coefficients</code> determines the weight \(w_K\) of each cell \(K\) with \(n_K\) degrees of freedom in the following way: </p><p class="formulaDsp">
\[ w_K = a \, n_K^b \]
</p>
<p>The right hand side will be rounded to the nearest integer since cell weights are required to be integers. </p>

</div>
</div>
<a id="a67c85bd5fbacd77d50b432fb61510368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c85bd5fbacd77d50b432fb61510368">&#9670;&nbsp;</a></span>ndofs_weighting() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::ndofs_weighting </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; float, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>coefficients</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The container <code>coefficients</code> provides pairs of floating point numbers \((a_i, b_i)\) that determine the weight \(w_K\) of each cell \(K\) with \(n_K\) degrees of freedom in the following way: </p><p class="formulaDsp">
\[ w_K = \sum_i a_i \, n_K^{b_i} \]
</p>
<p>The right hand side will be rounded to the nearest integer since cell weights are required to be integers. </p>

</div>
</div>
<a id="aafda2bba3d8a8a33e4b6bf4789882f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafda2bba3d8a8a33e4b6bf4789882f62">&#9670;&nbsp;</a></span>weighting_callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned <a class="el" href="classint.html">int</a> <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::weighting_callback </td>
          <td>(</td>
          <td class="paramtype">const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::cell_iterator &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const typename ::<a class="el" href="classTriangulation.html">Triangulation</a>&lt; dim, spacedim &gt;::CellStatus&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDoFHandler.html">DoFHandler</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1TriangulationBase.html">parallel::TriangulationBase</a>&lt; dim, spacedim &gt; &amp;&#160;</td>
          <td class="paramname"><em>triangulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classparallel_1_1CellWeights.html#a802050ef84a321ad53ace8758367be5b">WeightingFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>weighting_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A callback function that will be connected to the cell_weight signal of the <code>triangulation</code>, to which the <code>dof_handler</code> is attached. Ultimately returns the weight for each cell, determined by the <code>weighting_function</code> provided as a parameter. Returns zero if <code>dof_handler</code> has not been initialized yet. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad23b91e965c5bc078e9fbd06ae8087c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23b91e965c5bc078e9fbd06ae8087c3">&#9670;&nbsp;</a></span>connection</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, int spacedim = dim&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::signals2::connection <a class="el" href="classparallel_1_1CellWeights.html">parallel::CellWeights</a>&lt; dim, spacedim &gt;::connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A connection to the corresponding cell_weight signal of the <a class="el" href="classTriangulation.html">Triangulation</a> which is attached to the <a class="el" href="classDoFHandler.html">DoFHandler</a>. </p>

<p class="definition">Definition at line <a class="el" href="cell__weights_8h_source.html#l00194">194</a> of file <a class="el" href="cell__weights_8h_source.html">cell_weights.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/deal.II/distributed/<a class="el" href="cell__weights_8h_source.html">cell_weights.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
